{"version":3,"sources":["firebase.js","services/authentication.js","services/theming.js","components/EmptyState/EmptyState.js","components/ErrorBoundary/ErrorBoundary.js","components/LaunchScreen/LaunchScreen.js","components/UserAvatar/UserAvatar.js","components/Bar/Bar.js","components/HomeContent/HomeContent.js","components/NotFoundContent/NotFoundContent.js","components/Router/Router.js","components/AboutDialog/AboutDialog.js","components/AuthProviderList/AuthProviderList.js","constraints.js","components/SignUpDialog/SignUpDialog.js","components/SignInDialog/SignInDialog.js","components/AccountTab/AccountTab.js","components/AppearanceTab/AppearanceTab.js","components/LinksTab/LinksTab.js","components/SecurityTab/SecurityTab.js","components/SettingsDialog/SettingsDialog.js","components/DeleteAccountDialog/DeleteAccountDialog.js","components/AlertDialog/AlertDialog.js","components/DialogHost/DialogHost.js","components/App/App.js","serviceWorker.js","index.js"],"names":["firebase","apiKey","process","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","analytics","auth","firestore","storage","authentication","fields","Promise","resolve","reject","firstName","lastName","username","emailAddress","password","currentUser","createUserWithEmailAndPassword","then","value","user","uid","reference","collection","doc","set","logEvent","method","catch","reason","merge","signInWithEmailAndPassword","get","source","exists","sendSignInLinkToEmail","url","handleCodeInApp","localStorage","setItem","emailLink","signInWithEmailLink","removeItem","providerId","provider","OAuthProvider","signInWithPopup","linkWithPopup","unlink","providerData","find","authProvider","signOut","sendPasswordResetEmail","avatar","includes","type","size","ref","child","put","uploadTaskSnapshot","getDownloadURL","updateProfile","photoURL","delete","update","updateEmail","updatePassword","lastPasswordChange","FieldValue","serverTimestamp","sendEmailVerification","getIdTokenResult","idTokenResult","claims","admin","getName","displayName","getFullName","getNameInitials","charAt","getProfileCompletion","email","emailVerified","profileCompletion","forEach","field","length","Math","floor","getSecurityRating","userData","metadata","creationTime","moment","securityRating","toDate","diff","colors","red","id","name","import","pink","purple","deepPurple","indigo","blue","lightBlue","cyan","teal","green","lightGreen","lime","yellow","amber","orange","deepOrange","brown","gray","blueGray","types","light","dark","getColor","colorId","camelCase","getType","typeId","defaultPrimaryColor","defaultSecondaryColor","defaultType","defaultTheme","createMuiTheme","palette","primary","secondary","primaryColor","secondaryColor","dense","theming","defaultDense","isDefaultTheme","theme","createTheme","changeTheme","changePrimaryColor","changeSecondaryColor","changeType","changeDense","resetTheme","EmptyState","fontSize","variant","this","props","padding","icon","title","description","Box","style","transform","position","top","left","textAlign","clone","color","Typography","Component","defaultProps","ErrorBoundary","state","hasError","eventId","error","errorInfo","Sentry","scope","setExtras","setState","children","LaunchScreen","classes","className","center","CircularProgress","withStyles","UserAvatar","defaultCursor","photoUrl","Avatar","alt","src","nameInitials","cursor","Bar","openMenu","event","anchorEl","currentTarget","menu","closeMenu","performingAction","onSignUpClick","onSignInClick","menuItems","onClick","onAboutClick","onSettingsClick","onSignOutClick","AppBar","Toolbar","display","flexGrow","IconButton","disabled","Object","assign","Menu","open","Boolean","onClose","map","menuItem","index","MenuItem","key","mr","Button","HomeContent","window","location","href","isSignInWithEmailLink","getItem","history","push","openSnackbar","code","message","finally","withRouter","NotFoundContent","Router","basename","path","exact","AboutDialog","dialogProps","Dialog","DialogTitle","disableTypography","Tooltip","closeButton","DialogContent","List","disablePadding","ListItem","ListItemText","right","spacing","AuthProviderList","gutterBottom","onAuthProviderClick","authProviders","main","contrastText","Grid","grid","container","direction","item","fullWidth","startIcon","marginBottom","constraints","presence","allowEmpty","minimum","maximum","emailAddressConfirmation","equality","attribute","passwordConfirmation","initialState","errors","SignUpDialog","signUp","validate","signUpWithEmailAddressAndPassword","signInWithAuthProvider","handleKeyPress","altKey","ctrlKey","metaKey","shiftKey","handleExited","handleEmailAddressChange","target","handleEmailAddressConfirmationChange","handlePasswordChange","handlePasswordConfirmationChange","maxWidth","onKeyPress","onExited","Hidden","xsDown","xs","Divider","divider","orientation","TextField","autoComplete","helperText","label","placeholder","required","onChange","smUp","DialogActions","marginRight","margin","SignInDialog","getSignInButton","signIn","resetPassword","showingField","avatarUrl","loadingAvatar","sentVerificationEmail","AccountTab","getNameInitialsOrIcon","personIcon","uploadAvatar","changeAvatar","removeAvatar","URL","revokeObjectURL","showField","fieldId","hideFields","callback","changeFirstName","changeLastName","changeUsername","changeEmailAddress","verifyEmailAddress","changeField","handleKeyDown","handleAvatarChange","files","createObjectURL","handleFirstNameChange","handleLastNameChange","handleUsernameChange","onDeleteAccountClick","hasFirstName","hasLastName","hasUsername","root","dialogContent","mb","alignItems","Badge","badge","badgeContent","Fab","sizeSmall","small","loadingBadge","Fade","transitionDelay","in","unmountOnExit","thickness","hidden","accept","htmlFor","component","ListItemIcon","autoFocus","onBlur","onKeyDown","ListItemSecondaryAction","lastSignInTime","format","mt","paddingTop","marginLeft","width","height","minHeight","AppearanceTab","handlePrimaryColorChange","handleSecondaryColorChange","handleTypeChange","handleDenseChange","checked","handleResetClick","FormControl","InputLabel","Select","native","keys","Checkbox","Switch","LinksTab","linkAuthProvider","unlinkAuthProvider","authProviderData","identifier","phoneNumber","SecurityTab","changePassword","hasChangedPassword","tabs","selectedTab","SettingsDialog","handleTabChange","handleIndexChange","Tabs","overflow","indicatorColor","textColor","tab","Tab","onChangeIndex","DeleteAccountDialog","deleteAccount","DialogContentText","AlertDialog","contentText","dismissiveAction","confirmingAction","acknowledgementAction","console","noTitlePadding","DialogHost","dialogs","aboutDialog","signUpDialog","signInDialog","settingsDialog","deleteAccountDialog","signOutDialog","smDown","fullScreen","mdUp","ready","isAdmin","snackbar","autoHideDuration","App","resetState","setTheme","openDialog","dialogId","dialog","undefined","closeDialog","closeAllDialogs","readingTime","time","closeSnackbar","clearMessage","CssBaseline","Snackbar","onAuthStateChangedObserver","onAuthStateChanged","userDocumentSnapshotListener","onSnapshot","snapshot","data","isLocalhost","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","log","onUpdate","onSuccess","dsn","release","ReactDOM","render","document","getElementById","origin","addEventListener","fetch","response","contentType","headers","status","indexOf","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.749696de.chunk.js","sourcesContent":["import * as firebase from 'firebase/app';\n\nimport 'firebase/analytics';\nimport 'firebase/auth';\nimport 'firebase/firestore';\nimport 'firebase/storage';\nimport 'firebase/performance';\n\nfirebase.initializeApp({\n  apiKey: process.env.REACT_APP_FIREBASE_API_KEY,\n  authDomain: process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,\n  databaseURL: process.env.REACT_APP_FIREBASE_DATABASE_URL,\n  projectId: process.env.REACT_APP_FIREBASE_PROJECT_ID,\n  storageBucket: process.env.REACT_APP_FIREBASE_STORAGE_BUCKET,\n  messagingSenderId: process.env.REACT_APP_FIREBASE_MESSAGING_SENDER_ID,\n  appId: process.env.REACT_APP_FIREBASE_APP_ID,\n  measurementId: process.env.REACT_APP_FIREBASE_MEASUREMENT_ID\n});\n\nexport default firebase;\nexport const analytics = firebase.analytics();\nexport const auth = firebase.auth();\nexport const firestore = firebase.firestore();\nexport const storage = firebase.storage();\nexport const performance = firebase.performance();\n","import firebase, { analytics, auth, firestore, storage } from '../firebase';\n\nimport moment from 'moment';\n\nconst authentication = {};\n\nauthentication.signUp = (fields) => {\n  return new Promise((resolve, reject) => {\n    if (!fields) {\n      reject();\n\n      return;\n    }\n\n    const firstName = fields.firstName;\n    const lastName = fields.lastName;\n    const username = fields.username;\n    const emailAddress = fields.emailAddress;\n    const password = fields.password;\n\n    if (!firstName || !lastName || !username || !emailAddress || !password) {\n      reject();\n\n      return;\n    }\n\n    const currentUser = auth.currentUser;\n\n    if (currentUser) {\n      reject();\n\n      return;\n    }\n\n    auth.createUserWithEmailAndPassword(emailAddress, password).then((value) => {\n      const user = value.user;\n\n      if (!user) {\n        reject();\n\n        return;\n      }\n\n      const uid = user.uid;\n\n      if (!uid) {\n        reject();\n\n        return;\n      }\n\n      const reference = firestore.collection('users').doc(uid);\n\n      if (!reference) {\n        reject();\n\n        return;\n      }\n\n      reference.set({\n        firstName: firstName,\n        lastName: lastName,\n        username: username\n      }).then((value) => {\n        analytics.logEvent('sign_up', {\n          method: 'password'\n        });\n\n        resolve(value);\n      }).catch((reason) => {\n        reject(reason);\n      });\n    }).catch((reason) => {\n      reject(reason);\n    });\n  });\n};\n\nauthentication.signUpWithEmailAddressAndPassword = (emailAddress, password) => {\n  return new Promise((resolve, reject) => {\n    if (!emailAddress || !password) {\n      reject();\n\n      return;\n    }\n\n    const currentUser = auth.currentUser;\n\n    if (currentUser) {\n      reject();\n\n      return;\n    }\n\n    auth.createUserWithEmailAndPassword(emailAddress, password).then((value) => {\n      const user = value.user;\n\n      if (!user) {\n        reject();\n\n        return;\n      }\n\n      const uid = user.uid;\n\n      if (!uid) {\n        reject();\n\n        return;\n      }\n\n      const reference = firestore.collection('users').doc(uid);\n\n      if (!reference) {\n        reject();\n\n        return;\n      }\n\n      reference.set({}, { merge: true }).then((value) => {\n        analytics.logEvent('sign_up', {\n          method: 'password'\n        });\n\n        resolve(value);\n      }).catch((reason) => {\n        reject(reason);\n      });\n    }).catch((reason) => {\n      reject(reason);\n    });\n  });\n};\n\nauthentication.signIn = (emailAddress, password) => {\n  return new Promise((resolve, reject) => {\n    if (!emailAddress || !password) {\n      reject();\n\n      return;\n    }\n\n    const currentUser = auth.currentUser;\n\n    if (currentUser) {\n      reject();\n\n      return;\n    }\n\n    auth.signInWithEmailAndPassword(emailAddress, password).then((value) => {\n      const user = value.user;\n\n      if (!user) {\n        reject();\n\n        return;\n      }\n\n      const uid = user.uid;\n\n      if (!uid) {\n        reject();\n\n        return;\n      }\n\n      const reference = firestore.collection('users').doc(uid);\n\n      if (!reference) {\n        reject();\n\n        return;\n      }\n\n      reference.get({ source: 'server' }).then((value) => {\n        if (value.exists) {\n          analytics.logEvent('login', {\n            method: 'password'\n          });\n\n          resolve(user);\n        } else {\n          reference.set({}, { merge: true }).then((value) => {\n            analytics.logEvent('login', {\n              method: 'password'\n            });\n\n            resolve(user);\n          }).catch((reason) => {\n            reject(reason);\n          });\n        }\n      }).catch((reason => {\n        reject(reason);\n      }));\n    }).catch((reason) => {\n      reject(reason);\n    });\n  });\n};\n\nauthentication.sendSignInLinkToEmail = (emailAddress) => {\n  return new Promise((resolve, reject) => {\n    if (!emailAddress) {\n      reject();\n\n      return;\n    }\n\n    const currentUser = auth.currentUser;\n\n    if (currentUser) {\n      reject();\n\n      return;\n    }\n\n    const actionCodeSettings = {\n      url: process.env.REACT_APP_HOMEPAGE,\n      handleCodeInApp: true\n    };\n\n    auth.sendSignInLinkToEmail(emailAddress, actionCodeSettings).then((value) => {\n      analytics.logEvent('send_sign_in_link_to_email');\n\n      localStorage.setItem('emailAddress', emailAddress);\n\n      resolve(value);\n    }).catch((reason) => {\n      reject(reason);\n    });\n  });\n};\n\nauthentication.signInWithEmailLink = (emailAddress, emailLink) => {\n  return new Promise((resolve, reject) => {\n    if (!emailAddress || !emailLink) {\n      reject();\n\n      return;\n    }\n\n    const currentUser = auth.currentUser;\n\n    if (currentUser) {\n      reject();\n\n      return;\n    }\n\n    auth.signInWithEmailLink(emailAddress, emailLink).then((value) => {\n      analytics.logEvent('login', {\n        method: 'email-link'\n      });\n\n      localStorage.removeItem('emailAddress');\n\n      resolve(value);\n    }).catch((reason) => {\n      reject(reason);\n    });\n  });\n};\n\nauthentication.signInWithAuthProvider = (providerId) => {\n  return new Promise((resolve, reject) => {\n    if (!providerId) {\n      reject();\n\n      return;\n    }\n\n    const provider = new firebase.auth.OAuthProvider(providerId);\n\n    if (!provider) {\n      reject();\n\n      return;\n    }\n\n    const currentUser = auth.currentUser;\n\n    if (currentUser) {\n      reject();\n\n      return;\n    }\n\n    auth.signInWithPopup(provider).then((value) => {\n      const user = value.user;\n\n      if (!user) {\n        reject();\n\n        return;\n      }\n\n      const uid = user.uid;\n\n      if (!uid) {\n        reject();\n\n        return;\n      }\n\n      const reference = firestore.collection('users').doc(uid);\n\n      if (!reference) {\n        reject();\n\n        return;\n      }\n\n      reference.get({ source: 'server' }).then((value) => {\n        if (value.exists) {\n          analytics.logEvent('login', {\n            method: providerId\n          });\n\n          resolve(user);\n        } else {\n          reference.set({}, { merge: true }).then((value) => {\n            analytics.logEvent('login', {\n              method: providerId\n            });\n\n            resolve(user);\n          }).catch((reason) => {\n            reject(reason);\n          });\n        }\n      }).catch((reason => {\n        reject(reason);\n      }));\n    }).catch((reason) => {\n      reject(reason);\n    });\n  });\n};\n\nauthentication.linkAuthProvider = (providerId) => {\n  return new Promise((resolve, reject) => {\n    if (!providerId) {\n      reject();\n\n      return;\n    }\n\n    const provider = new firebase.auth.OAuthProvider(providerId);\n\n    if (!provider) {\n      reject();\n\n      return;\n    }\n\n    const currentUser = auth.currentUser;\n\n    if (!currentUser) {\n      reject();\n\n      return;\n    }\n\n    currentUser.linkWithPopup(provider).then((value) => {\n      analytics.logEvent('link_auth_provider', {\n        value: providerId\n      });\n\n      resolve(value);\n    }).catch((reason) => {\n      reject(reason);\n    });\n  });\n};\n\nauthentication.unlinkAuthProvider = (providerId) => {\n  return new Promise((resolve, reject) => {\n    if (!providerId) {\n      reject();\n\n      return;\n    }\n\n    const currentUser = auth.currentUser;\n\n    if (!currentUser) {\n      reject();\n\n      return;\n    }\n\n    currentUser.unlink(providerId).then((value) => {\n      analytics.logEvent('unlink_auth_provider', {\n        value: providerId\n      });\n\n      resolve(value);\n    }).catch((reason) => {\n      reject(reason);\n    });\n  });\n};\n\nauthentication.authProviderData = (providerId) => {\n  if (!providerId) {\n    return;\n  }\n\n  const currentUser = auth.currentUser;\n\n  if (!currentUser) {\n    return;\n  }\n\n  const providerData = currentUser.providerData;\n\n  if (!providerData) {\n    return;\n  }\n\n  return providerData.find(authProvider => authProvider.providerId === providerId);\n};\n\nauthentication.signOut = () => {\n  return new Promise((resolve, reject) => {\n    const currentUser = auth.currentUser;\n\n    if (!currentUser) {\n      reject();\n\n      return;\n    }\n\n    auth.signOut().then((value) => {\n      analytics.logEvent('sign_out');\n\n      resolve(value);\n    }).catch((reason) => {\n      reject(reason);\n    });\n  });\n};\n\nauthentication.resetPassword = (emailAddress) => {\n  return new Promise((resolve, reject) => {\n    if (!emailAddress) {\n      reject();\n\n      return;\n    }\n\n    const currentUser = auth.currentUser;\n\n    if (currentUser) {\n      reject();\n\n      return;\n    }\n\n    auth.sendPasswordResetEmail(emailAddress).then((value) => {\n      analytics.logEvent('reset_password');\n\n      resolve(value);\n    }).catch((reason) => {\n      reject(reason);\n    });\n  });\n};\n\nauthentication.changeAvatar = (avatar) => {\n  return new Promise((resolve, reject) => {\n    if (!avatar) {\n      reject();\n\n      return;\n    }\n\n    const avatarFileTypes = [\n      'image/gif',\n      'image/jpeg',\n      'image/png',\n      'image/webp',\n      'image/svg+xml'\n    ];\n\n    if (!avatarFileTypes.includes(avatar.type)) {\n      reject();\n\n      return;\n    }\n\n    if (avatar.size > (20 * 1024 * 1024)) {\n      reject();\n\n      return;\n    }\n\n    const currentUser = auth.currentUser;\n\n    if (!currentUser) {\n      reject();\n\n      return;\n    }\n\n    const uid = currentUser.uid;\n\n    if (!uid) {\n      reject();\n\n      return;\n    }\n\n    const reference = storage.ref().child('images').child('avatars').child(uid);\n\n    if (!reference) {\n      reject();\n\n      return;\n    }\n\n    reference.put(avatar).then((uploadTaskSnapshot) => {\n      reference.getDownloadURL().then((value) => {\n        currentUser.updateProfile({\n          photoURL: value\n        }).then((value) => {\n          analytics.logEvent('change_avatar');\n\n          resolve(value);\n        }).catch((reason) => {\n          reject(reason);\n        });\n      }).catch((reason) => {\n        reject(reason);\n      });\n    }).catch((reason) => {\n      reject(reason);\n    });\n  });\n};\n\nauthentication.removeAvatar = () => {\n  return new Promise((resolve, reject) => {\n    const currentUser = auth.currentUser;\n\n    if (!currentUser) {\n      reject();\n\n      return;\n    }\n\n    const uid = currentUser.uid;\n\n    if (!uid) {\n      reject();\n\n      return;\n    }\n\n    currentUser.updateProfile({\n      photoURL: null\n    }).then((value) => {\n      const reference = storage.ref().child('images').child('avatars').child(uid);\n\n      if (!reference) {\n        reject();\n\n        return;\n      }\n\n      reference.delete().then((value) => {\n        analytics.logEvent('remove_avatar');\n\n        resolve(value);\n      }).catch((reason) => {\n        reject(reason);\n      });\n    }).catch((reason) => {\n      reject(reason);\n    });\n  });\n};\n\nauthentication.changeFirstName = (firstName) => {\n  return new Promise((resolve, reject) => {\n    if (!firstName) {\n      reject();\n\n      return;\n    }\n\n    const currentUser = auth.currentUser;\n\n    if (!currentUser) {\n      reject();\n\n      return;\n    }\n\n    const uid = currentUser.uid;\n\n    if (!uid) {\n      reject();\n\n      return;\n    }\n\n    const reference = firestore.collection('users').doc(uid);\n\n    if (!reference) {\n      reject();\n\n      return;\n    }\n\n    reference.update({\n      firstName: firstName\n    }).then((value) => {\n      analytics.logEvent('change_first_name');\n\n      resolve(value);\n    }).catch((reason) => {\n      reject(reason);\n    });\n  });\n};\n\nauthentication.changeLastName = (lastName) => {\n  return new Promise((resolve, reject) => {\n    if (!lastName) {\n      reject();\n\n      return;\n    }\n\n    const currentUser = auth.currentUser;\n\n    if (!currentUser) {\n      reject();\n\n      return;\n    }\n\n    const uid = currentUser.uid;\n\n    if (!uid) {\n      reject();\n\n      return;\n    }\n\n    const reference = firestore.collection('users').doc(uid);\n\n    if (!reference) {\n      reject();\n\n      return;\n    }\n\n    reference.update({\n      lastName: lastName\n    }).then((value) => {\n      analytics.logEvent('change_last_name');\n\n      resolve(value);\n    }).catch((reason) => {\n      reject(reason);\n    });\n  });\n};\n\nauthentication.changeUsername = (username) => {\n  return new Promise((resolve, reject) => {\n    if (!username) {\n      reject();\n\n      return;\n    }\n\n    const currentUser = auth.currentUser;\n\n    if (!currentUser) {\n      reject();\n\n      return;\n    }\n\n    const uid = currentUser.uid;\n\n    if (!uid) {\n      reject();\n\n      return;\n    }\n\n    const reference = firestore.collection('users').doc(uid);\n\n    if (!reference) {\n      reject();\n\n      return;\n    }\n\n    reference.update({\n      username: username\n    }).then((value) => {\n      analytics.logEvent('change_username');\n\n      resolve(value);\n    }).catch((reason) => {\n      reject(reason);\n    });\n  });\n};\n\nauthentication.changeEmailAddress = (emailAddress) => {\n  return new Promise((resolve, reject) => {\n    if (!emailAddress) {\n      reject();\n\n      return;\n    }\n\n    const currentUser = auth.currentUser;\n\n    if (!currentUser) {\n      reject();\n\n      return;\n    }\n\n    const uid = currentUser.uid;\n\n    if (!uid) {\n      reject();\n\n      return;\n    }\n\n    currentUser.updateEmail(emailAddress).then((value) => {\n      analytics.logEvent('change_email_address');\n\n      resolve(value);\n    }).catch((reason) => {\n      reject(reason);\n    });\n  });\n};\n\nauthentication.changePassword = (password) => {\n  return new Promise((resolve, reject) => {\n    if (!password) {\n      reject();\n\n      return;\n    }\n\n    const currentUser = auth.currentUser;\n\n    if (!currentUser) {\n      reject();\n\n      return;\n    }\n\n    const uid = currentUser.uid;\n\n    if (!uid) {\n      reject();\n\n      return;\n    }\n\n    currentUser.updatePassword(password).then((value) => {\n      const reference = firestore.collection('users').doc(uid);\n\n      if (!reference) {\n        reject();\n\n        return;\n      }\n\n      reference.update({\n        lastPasswordChange: firebase.firestore.FieldValue.serverTimestamp()\n      }).then((value) => {\n        analytics.logEvent('change_password');\n\n        resolve(value);\n      }).catch((reason) => {\n        reject(reason);\n      });\n    }).catch((reason) => {\n      reject(reason);\n    });\n  });\n};\n\nauthentication.verifyEmailAddress = () => {\n  return new Promise((resolve, reject) => {\n    const currentUser = auth.currentUser;\n\n    if (!currentUser) {\n      reject();\n\n      return;\n    }\n\n    currentUser.sendEmailVerification().then((value) => {\n      analytics.logEvent('verify_email_address');\n\n      resolve(value);\n    }).catch((reason) => {\n      reject(reason);\n    });\n  });\n};\n\nauthentication.deleteAccount = () => {\n  return new Promise((resolve, reject) => {\n    const currentUser = auth.currentUser;\n\n    if (!currentUser) {\n      reject();\n\n      return;\n    }\n\n    currentUser.delete().then((value) => {\n      analytics.logEvent('delete_account');\n\n      resolve(value);\n    }).catch((reason) => {\n      reject(reason);\n    });\n  });\n};\n\nauthentication.isAdmin = () => {\n  return new Promise((resolve, reject) => {\n    const currentUser = auth.currentUser;\n\n    if (!currentUser) {\n      reject();\n\n      return;\n    }\n\n    currentUser.getIdTokenResult().then((idTokenResult) => {\n      resolve(!!idTokenResult.claims.admin);\n    }).catch((reason) => {\n      reject(reason);\n    });\n  });\n};\n\nauthentication.user = {};\n\nauthentication.user.getName = (fields) => {\n  if (!fields) {\n    return null;\n  }\n\n  const firstName = fields.firstName;\n  const username = fields.username;\n  const displayName = fields.displayName;\n  const lastName = fields.lastName;\n\n  if (firstName) {\n    return firstName;\n  }\n\n  if (username) {\n    return username;\n  }\n\n  if (displayName) {\n    return displayName;\n  }\n\n  if (lastName) {\n    return lastName;\n  }\n\n  return null;\n};\n\nauthentication.user.getFullName = (fields) => {\n  if (!fields) {\n    return null;\n  }\n\n  const firstName = fields.firstName;\n  const lastName = fields.lastName;\n  const displayName = fields.displayName;\n\n  if (firstName && lastName) {\n    return `${firstName} ${lastName}`;\n  }\n\n  if (displayName) {\n    return displayName;\n  }\n\n  return null;\n};\n\nauthentication.user.getNameInitials = (fields) => {\n  if (!fields) {\n    return null;\n  }\n\n  const firstName = fields.firstName;\n  const lastName = fields.lastName;\n  const username = fields.username;\n  const displayName = fields.displayName;\n\n  if (firstName && lastName) {\n    return firstName.charAt(0) + lastName.charAt(0);\n  }\n\n  if (firstName) {\n    return firstName.charAt(0);\n  }\n\n  if (username) {\n    return username.charAt(0);\n  }\n\n  if (lastName) {\n    return lastName.charAt(0);\n  }\n\n  if (displayName) {\n    return displayName.charAt(0);\n  }\n\n  return null;\n};\n\nauthentication.user.getProfileCompletion = (fields) => {\n  if (!fields) {\n    return null;\n  }\n\n  fields = [\n    fields.photoURL,\n    fields.firstName,\n    fields.lastName,\n    fields.username,\n    fields.email,\n    fields.email && fields.emailVerified\n  ];\n\n  if (!fields) {\n    return null;\n  }\n\n  let profileCompletion = 0;\n\n  fields.forEach((field) => {\n    if (field) {\n      profileCompletion += 100 / fields.length;\n    }\n  });\n\n  return Math.floor(profileCompletion);\n};\n\nauthentication.user.getSecurityRating = (user, userData) => {\n  if (!user || !user.metadata) {\n    return null;\n  }\n\n  let creationTime = user.metadata.creationTime;\n\n  if (!creationTime) {\n    return null;\n  }\n\n  creationTime = moment(creationTime);\n\n  let securityRating = 0;\n\n  if (userData && userData.lastPasswordChange) {\n    let lastPasswordChange = userData.lastPasswordChange;\n\n    if (lastPasswordChange) {\n      lastPasswordChange = moment(lastPasswordChange.toDate());\n\n      if (creationTime.diff(lastPasswordChange, 'days') >= 365.242199) {\n        securityRating = 50;\n      } else {\n        securityRating = 100;\n      }\n    }\n  } else {\n    if (moment().diff(creationTime, 'days') >= 365.242199) {\n      securityRating = 50;\n    } else {\n      securityRating = 100;\n    }\n  }\n\n  return securityRating;\n};\n\nexport default authentication;\n","import camelCase from 'lodash.camelcase';\n\nimport { createMuiTheme } from '@material-ui/core/styles';\n\nimport red from '@material-ui/core/colors/red';\nimport pink from '@material-ui/core/colors/pink';\nimport purple from '@material-ui/core/colors/purple';\nimport deepPurple from '@material-ui/core/colors/deepPurple';\nimport indigo from '@material-ui/core/colors/indigo';\nimport blue from '@material-ui/core/colors/blue';\nimport lightBlue from '@material-ui/core/colors/lightBlue';\nimport cyan from '@material-ui/core/colors/cyan';\nimport teal from '@material-ui/core/colors/teal';\nimport green from '@material-ui/core/colors/green';\nimport lightGreen from '@material-ui/core/colors/lightGreen';\nimport lime from '@material-ui/core/colors/lime';\nimport yellow from '@material-ui/core/colors/yellow';\nimport amber from '@material-ui/core/colors/amber';\nimport orange from '@material-ui/core/colors/orange';\nimport deepOrange from '@material-ui/core/colors/deepOrange';\nimport brown from '@material-ui/core/colors/brown';\nimport gray from '@material-ui/core/colors/grey';\nimport blueGray from '@material-ui/core/colors/blueGrey';\n\nimport firebase, { analytics, auth, firestore } from '../firebase';\n\nconst colors = {\n  red: {\n    id: 'red',\n    name: 'Red',\n    import: red\n  },\n\n  pink: {\n    id: 'pink',\n    name: 'Pink',\n    import: pink\n  },\n\n  purple: {\n    id: 'purple',\n    name: 'Purple',\n    import: purple\n  },\n\n  deepPurple: {\n    id: 'deep-purple',\n    name: 'Deep Purple',\n    import: deepPurple\n  },\n\n  indigo: {\n    id: 'indigo',\n    name: 'Indigo',\n    import: indigo\n  },\n\n  blue: {\n    id: 'blue',\n    name: 'Blue',\n    import: blue\n  },\n\n  lightBlue: {\n    id: 'light-blue',\n    name: 'Light Blue',\n    import: lightBlue\n  },\n\n  cyan: {\n    id: 'cyan',\n    name: 'Cyan',\n    import: cyan\n  },\n\n  teal: {\n    id: 'teal',\n    name: 'Teal',\n    import: teal\n  },\n\n  green: {\n    id: 'green',\n    name: 'Green',\n    import: green\n  },\n\n  lightGreen: {\n    id: 'light-green',\n    name: 'Light Green',\n    import: lightGreen\n  },\n\n  lime: {\n    id: 'lime',\n    name: 'Lime',\n    import: lime\n  },\n\n  yellow: {\n    id: 'yellow',\n    name: 'Yellow',\n    import: yellow\n  },\n\n  amber: {\n    id: 'amber',\n    name: 'Amber',\n    import: amber\n  },\n\n  orange: {\n    id: 'orange',\n    name: 'Orange',\n    import: orange\n  },\n\n  deepOrange: {\n    id: 'deep-orange',\n    name: 'Deep Orange',\n    import: deepOrange\n  },\n\n  brown: {\n    id: 'brown',\n    name: 'Brown',\n    import: brown\n  },\n\n  gray: {\n    id: 'gray',\n    name: 'Gray',\n    import: gray\n  },\n\n  blueGray: {\n    id: 'blue-gray',\n    name: 'Blue Gray',\n    import: blueGray\n  }\n};\n\nconst types = {\n  light: {\n    id: 'light',\n    name: 'Light'\n  },\n\n  dark: {\n    id: 'dark',\n    name: 'Dark'\n  }\n};\n\nconst getColor = (colorId) => {\n  if (!colorId) {\n    return null;\n  }\n\n  colorId = camelCase(colorId);\n\n  return colors[colorId];\n};\n\nconst getType = (typeId) => {\n  if (!typeId) {\n    return null;\n  }\n\n  return types[typeId];\n};\n\nconst defaultPrimaryColor = getColor(process.env.REACT_APP_THEME_PRIMARY_COLOR);\nconst defaultSecondaryColor = getColor(process.env.REACT_APP_THEME_SECONDARY_COLOR);\nconst defaultType = getType(process.env.REACT_APP_THEME_TYPE);\nconst defaultDense = process.env.REACT_APP_THEME_DENSE === 'true';\n\nconst defaultTheme = createMuiTheme({\n  palette: {\n    primary: defaultPrimaryColor.import,\n    secondary: defaultSecondaryColor.import,\n    type: defaultType.id\n  },\n\n  primaryColor: defaultPrimaryColor,\n  secondaryColor: defaultSecondaryColor,\n  type: defaultType,\n  dense: defaultDense\n});\n\nconst theming = {};\n\ntheming.colors = colors;\ntheming.types = types;\n\ntheming.defaultPrimaryColor = defaultPrimaryColor;\ntheming.defaultSecondaryColor = defaultSecondaryColor;\ntheming.defaultType = defaultType;\ntheming.defaultDense = defaultDense;\n\ntheming.defaultTheme = defaultTheme;\n\n/**\n * Returns whether a theme is the default theme.\n * @param theme\n * @returns {boolean}\n */\ntheming.isDefaultTheme = (theme) => {\n  if (!theme) {\n    return false;\n  }\n\n  if (theme.primaryColor.id === defaultPrimaryColor.id &&\n      theme.secondaryColor.id === defaultSecondaryColor.id &&\n      theme.type.id === defaultType.id &&\n      theme.dense === defaultDense) {\n    return true;\n  }\n\n  return false;\n};\n\n/**\n * Creates a Material-UI theme from a JSON theme object.\n * @param theme\n * @returns {null|Theme}\n */\ntheming.createTheme = (theme) => {\n  if (!theme) {\n    return null;\n  }\n\n  let primaryColor = theme.primaryColor;\n  let secondaryColor = theme.secondaryColor;\n  let type = theme.type;\n  let dense = theme.dense;\n\n  if (!primaryColor || !secondaryColor || !type) {\n    return null;\n  }\n\n  primaryColor = getColor(primaryColor);\n  secondaryColor = getColor(secondaryColor);\n  type = getType(type);\n\n  if (!primaryColor || !secondaryColor || !type) {\n    return null;\n  }\n\n  theme = createMuiTheme({\n    palette: {\n      primary: primaryColor.import,\n      secondary: secondaryColor.import,\n      type: type.id\n    },\n\n    primaryColor: primaryColor,\n    secondaryColor: secondaryColor,\n    type: type,\n    dense: dense\n  });\n\n  return theme;\n};\n\n/**\n * Changes the theme for the current user.\n * @param theme\n * @returns {Promise<unknown>}\n */\ntheming.changeTheme = (theme) => {\n  return new Promise((resolve, reject) => {\n    if (!theme) {\n      reject();\n\n      return;\n    }\n\n    let primaryColor = theme.primaryColor;\n    let secondaryColor = theme.secondaryColor;\n    let type = theme.type;\n    let dense = theme.dense;\n\n    if (!primaryColor || !secondaryColor || !type) {\n      reject();\n\n      return;\n    }\n\n    primaryColor = getColor(primaryColor);\n    secondaryColor = getColor(secondaryColor);\n    type = getType(type);\n\n    if (!primaryColor || !secondaryColor || !type) {\n      reject();\n\n      return;\n    }\n\n    const currentUser = auth.currentUser;\n\n    if (!currentUser) {\n      reject();\n\n      return;\n    }\n\n    const uid = currentUser.uid;\n\n    if (!uid) {\n      reject();\n\n      return;\n    }\n\n    const reference = firestore.collection('users').doc(uid);\n\n    if (!reference) {\n      reject();\n\n      return;\n    }\n\n    reference.update({\n      theme: {\n        primaryColor: primaryColor.id,\n        secondaryColor: secondaryColor.id,\n        type: type.id,\n        dense: dense\n      }\n    }).then((value) => {\n      analytics.logEvent('change_theme', {\n        value: {\n          primaryColor: primaryColor.id,\n          secondaryColor: secondaryColor.id,\n          type: type.id,\n          dense: dense\n        }\n      });\n\n      resolve(value);\n    }).catch((reason) => {\n      reject(reason);\n    });\n  });\n};\n\n/**\n * Changes the primary color for the current user.\n * @param primaryColor\n * @returns {Promise<unknown>}\n */\ntheming.changePrimaryColor = (primaryColor) => {\n  return new Promise((resolve, reject) => {\n    if (!primaryColor) {\n      reject();\n\n      return;\n    }\n\n    primaryColor = getColor(primaryColor);\n\n    if (!primaryColor) {\n      reject();\n\n      return;\n    }\n\n    const currentUser = auth.currentUser;\n\n    if (!currentUser) {\n      reject();\n\n      return;\n    }\n\n    const uid = currentUser.uid;\n\n    if (!uid) {\n      reject();\n\n      return;\n    }\n\n    const reference = firestore.collection('users').doc(uid);\n\n    if (!reference) {\n      reject();\n\n      return;\n    }\n\n    reference.update({\n      'theme.primaryColor': primaryColor.id\n    }).then((value) => {\n      analytics.logEvent('change_primary_color', {\n        value: primaryColor.id\n      });\n\n      resolve(value);\n    }).catch((reason) => {\n      reject(reason);\n    });\n  });\n};\n\n/**\n * Changes the secondary color for the current user.\n * @param secondaryColor\n * @returns {Promise<unknown>}\n */\ntheming.changeSecondaryColor = (secondaryColor) => {\n  return new Promise((resolve, reject) => {\n    if (!secondaryColor) {\n      reject();\n\n      return;\n    }\n\n    secondaryColor = getColor(secondaryColor);\n\n    if (!secondaryColor) {\n      reject();\n\n      return;\n    }\n\n    const currentUser = auth.currentUser;\n\n    if (!currentUser) {\n      reject();\n\n      return;\n    }\n\n    const uid = currentUser.uid;\n\n    if (!uid) {\n      reject();\n\n      return;\n    }\n\n    const reference = firestore.collection('users').doc(uid);\n\n    if (!reference) {\n      reject();\n\n      return;\n    }\n\n    reference.update({\n      'theme.secondaryColor': secondaryColor.id\n    }).then((value) => {\n      analytics.logEvent('change_secondary_color', {\n        value: secondaryColor.id\n      });\n\n      resolve(value);\n    }).catch((reason) => {\n      reject(reason);\n    });\n  });\n};\n\n/**\n * Changes the type for the current user.\n * @param type\n * @returns {Promise<unknown>}\n */\ntheming.changeType = (type) => {\n  return new Promise((resolve, reject) => {\n    if (!type) {\n      reject();\n\n      return;\n    }\n\n    type = getType(type);\n\n    if (!type) {\n      reject();\n\n      return;\n    }\n\n    const currentUser = auth.currentUser;\n\n    if (!currentUser) {\n      reject();\n\n      return;\n    }\n\n    const uid = currentUser.uid;\n\n    if (!uid) {\n      reject();\n\n      return;\n    }\n\n    const reference = firestore.collection('users').doc(uid);\n\n    if (!reference) {\n      reject();\n\n      return;\n    }\n\n    reference.update({\n      'theme.type': type.id\n    }).then((value) => {\n      analytics.logEvent('change_type', {\n        value: type.id\n      });\n\n      resolve(value);\n    }).catch((reason) => {\n      reject(reason);\n    });\n  });\n};\n\n/**\n * Change the dense for the current user.\n * @param dense\n * @returns {Promise<unknown>}\n */\ntheming.changeDense = (dense) => {\n  return new Promise((resolve, reject) => {\n    const currentUser = auth.currentUser;\n\n    if (!currentUser) {\n      reject();\n\n      return;\n    }\n\n    const uid = currentUser.uid;\n\n    if (!uid) {\n      reject();\n\n      return;\n    }\n\n    const reference = firestore.collection('users').doc(uid);\n\n    if (!reference) {\n      reject();\n\n      return;\n    }\n\n    reference.update({\n      'theme.dense': dense\n    }).then((value) => {\n      analytics.logEvent('change_dense', {\n        value: dense\n      });\n\n      resolve(value);\n    }).catch((reason) => {\n      reject(reason);\n    });\n  });\n};\n\n/**\n * Resets the theme for the current user.\n * @returns {Promise<unknown>}\n */\ntheming.resetTheme = () => {\n  return new Promise((resolve, reject) => {\n    const currentUser = auth.currentUser;\n\n    if (!currentUser) {\n      reject();\n\n      return;\n    }\n\n    const uid = currentUser.uid;\n\n    if (!uid) {\n      reject();\n\n      return;\n    }\n\n    const reference = firestore.collection('users').doc(uid);\n\n    if (!reference) {\n      reject();\n\n      return;\n    }\n\n    reference.update({\n      theme: firebase.firestore.FieldValue.delete()\n    }).then((value) => {\n      analytics.logEvent('reset_theme');\n\n      resolve(value);\n    }).catch((reason) => {\n      reject(reason);\n    });\n  });\n};\n\nexport default theming;\n","import React, { Component } from 'react';\n\nimport PropTypes from 'prop-types';\n\nimport Box from '@material-ui/core/Box';\nimport Typography from '@material-ui/core/Typography';\n\nclass EmptyState extends Component {\n  render() {\n    // Properties\n    const {\n      type,\n      size,\n      padding,\n      icon,\n      title,\n      description\n    } = this.props;\n\n    let fontSize;\n    let variant;\n\n    if (size === 'small') {\n      fontSize = 'h3.fontSize';\n      variant = 'h6';\n    } else if (size === 'medium') {\n      fontSize = 'h2.fontSize';\n      variant = 'h5';\n    } else if (size === 'big') {\n      fontSize = 'h1.fontSize';\n      variant = 'h4';\n    }\n\n    if (type === 'content') {\n      return (\n        <Box\n          style={{ transform: 'translate(-50%, -50%)' }}\n          position=\"absolute\"\n          top=\"50%\"\n          left=\"50%\"\n          textAlign=\"center\">\n          {icon &&\n            <Box clone color=\"text.secondary\" fontSize={fontSize}>\n              {icon}\n            </Box>\n          }\n\n          {title &&\n            <Typography color=\"textSecondary\" variant={variant}>\n              {title}\n            </Typography>\n          }\n\n          {description &&\n            <Typography color=\"textSecondary\" variant=\"body1\">\n              {description}\n            </Typography>\n          }\n        </Box>\n      );\n    }\n\n    if (type === 'card') {\n      return (\n        <Box padding={padding} textAlign=\"center\">\n          {icon &&\n            <Box clone color=\"text.secondary\" fontSize={fontSize}>\n              {icon}\n            </Box>\n          }\n\n          {title &&\n            <Typography color=\"textSecondary\" variant={variant}>\n              {title}\n            </Typography>\n          }\n\n          {description &&\n            <Typography color=\"textSecondary\" variant=\"body1\">\n              {description}\n            </Typography>\n          }\n        </Box>\n      );\n    }\n\n    return null;\n  }\n}\n\nEmptyState.defaultProps = {\n  type: 'content',\n  size: 'medium',\n  padding: 2\n};\n\nEmptyState.propTypes = {\n  // Properties\n  type: PropTypes.string.isRequired,\n  size: PropTypes.string,\n  padding: PropTypes.number,\n  icon: PropTypes.element,\n  title: PropTypes.string,\n  description: PropTypes.string\n};\n\nexport default EmptyState;\n","import React, { Component } from 'react';\n\nimport PropTypes from 'prop-types';\n\nimport * as Sentry from '@sentry/browser';\n\nimport ErrorIcon from '@material-ui/icons/Error';\n\nimport EmptyState from '../EmptyState';\n\nclass ErrorBoundary extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      hasError: false,\n      eventId: null\n    };\n  }\n\n  static getDerivedStateFromError(error) {\n    return { hasError: true };\n  }\n\n  componentDidCatch(error, errorInfo) {\n    Sentry.withScope((scope) => {\n      scope.setExtras(errorInfo);\n\n      const eventId = Sentry.captureException(error);\n\n      this.setState({\n        eventId: eventId\n      });\n    });\n  }\n\n  render() {\n    // Properties\n    const {\n      children\n    } = this.props;\n\n    const {\n      hasError\n    } = this.state;\n\n    if (hasError) {\n      return (\n        <EmptyState\n          icon={<ErrorIcon />}\n          title=\"Something went wrong\"\n        />\n      );\n    }\n\n    return children;\n  }\n}\n\nErrorBoundary.propTypes = {\n  // Properties\n  children: PropTypes.array.isRequired\n};\n\nexport default ErrorBoundary;\n","import React, { Component } from 'react';\n\nimport PropTypes from 'prop-types';\n\nimport { withStyles } from '@material-ui/core/styles';\n\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\nconst styles = (theme) => ({\n  center: {\n    position: 'absolute',\n    top: '50%',\n    left: '50%',\n    transform: 'translate(-50%, -50%)',\n    textAlign: 'center'\n  }\n});\n\nclass LaunchScreen extends Component {\n  render() {\n    // Styling\n    const {\n      classes\n    } = this.props;\n\n    return (\n      <div className={classes.center}>\n        <CircularProgress />\n      </div>\n    );\n  }\n}\n\nLaunchScreen.propTypes = {\n  // Styling\n  classes: PropTypes.object.isRequired\n};\n\nexport default withStyles(styles)(LaunchScreen);\n","import React, { Component } from 'react';\n\nimport PropTypes from 'prop-types';\n\nimport { withStyles } from '@material-ui/core/styles';\n\nimport Avatar from '@material-ui/core/Avatar';\n\nimport PersonIcon from '@material-ui/icons/Person';\n\nimport authentication from '../../services/authentication';\n\nconst styles = (theme) => ({\n  nameInitials: {\n    cursor: 'default'\n  }\n});\n\nclass UserAvatar extends Component {\n  render() {\n    // Styling\n    const {\n      classes\n    } = this.props;\n\n    // Properties\n    const {\n      user,\n      defaultCursor\n    } = this.props;\n\n    if (!user) {\n      return <PersonIcon />;\n    }\n\n    const photoUrl = user.photoURL;\n\n    if (photoUrl) {\n      return (\n        <Avatar alt=\"Avatar\" src={photoUrl} />\n      );\n    }\n\n    const nameInitials = authentication.user.getNameInitials({\n      ...user\n    });\n\n    if (nameInitials) {\n      return (\n        <Avatar alt=\"Avatar\">\n          <span className={defaultCursor && classes.nameInitials}>{nameInitials}</span>\n        </Avatar>\n      );\n    }\n\n    return <PersonIcon />;\n  }\n}\n\nUserAvatar.propTypes = {\n  // Styling\n  classes: PropTypes.object.isRequired,\n\n  // Properties\n  user: PropTypes.object.isRequired,\n  defaultCursor: PropTypes.bool\n};\n\nexport default withStyles(styles)(UserAvatar);\n","import React, { Component } from 'react';\n\nimport PropTypes from 'prop-types';\n\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport Box from '@material-ui/core/Box';\nimport Button from '@material-ui/core/Button';\nimport IconButton from '@material-ui/core/IconButton';\n\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\n\nimport UserAvatar from '../UserAvatar';\n\nclass Bar extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      menu: {\n        anchorEl: null\n      }\n    };\n  }\n\n  openMenu = (event) => {\n    const anchorEl = event.currentTarget;\n\n    this.setState({\n      menu: {\n        anchorEl\n      }\n    });\n  };\n\n  closeMenu = () => {\n    this.setState({\n      menu: {\n        anchorEl: null\n      }\n    });\n  };\n\n  render() {\n    // Properties\n    const {\n      performingAction,\n      theme,\n      user,\n      userData\n    } = this.props;\n\n    // Events\n    const {\n      onSignUpClick,\n      onSignInClick\n    } = this.props;\n\n    const {\n      menu\n    } = this.state;\n\n    const menuItems = [\n      {\n        children: 'About',\n        onClick: () => {\n          this.closeMenu();\n\n          this.props.onAboutClick();\n        }\n      },\n      {\n        children: 'Settings',\n        onClick: () => {\n          this.closeMenu();\n\n          this.props.onSettingsClick();\n        }\n      },\n      {\n        children: 'Sign out',\n        onClick: () => {\n          this.closeMenu();\n\n          this.props.onSignOutClick();\n        }\n      }\n    ];\n\n    return (\n      <AppBar color=\"primary\" position=\"static\">\n        <Toolbar variant={theme.dense ? 'dense' : 'regular'}>\n          <Box display=\"flex\" flexGrow={1}>\n            <Typography color=\"inherit\" variant=\"h6\">{process.env.REACT_APP_TITLE}</Typography>\n          </Box>\n\n          {user &&\n            <>\n              <IconButton color=\"inherit\" disabled={performingAction} onClick={this.openMenu}>\n                <UserAvatar user={Object.assign(user, userData)} />\n              </IconButton>\n\n              <Menu anchorEl={menu.anchorEl} open={Boolean(menu.anchorEl)} onClose={this.closeMenu}>\n                {menuItems.map((menuItem, index) => {\n                  return (\n                    <MenuItem key={index} dense={theme.dense} disabled={performingAction} onClick={menuItem.onClick}>\n                      {menuItem.children}\n                    </MenuItem>\n                  );\n                })}\n              </Menu>\n            </>\n          }\n\n          {!user &&\n            <>\n              <Box mr={1}>\n                <Button color=\"secondary\" disabled={performingAction} variant=\"contained\" onClick={onSignUpClick}>Sign up</Button>\n              </Box>\n\n              <Button color=\"secondary\" disabled={performingAction} variant=\"contained\" onClick={onSignInClick}>Sign in</Button>\n            </>\n          }\n        </Toolbar>\n      </AppBar>\n    );\n  }\n}\n\nBar.defaultProps = {\n  performingAction: false\n};\n\nBar.propTypes = {\n  // Properties\n  performingAction: PropTypes.bool.isRequired,\n  theme: PropTypes.object.isRequired,\n  user: PropTypes.object,\n  userData: PropTypes.object,\n\n  // Events\n  onAboutClick: PropTypes.func.isRequired,\n  onSettingsClick: PropTypes.func.isRequired,\n  onSignOutClick: PropTypes.func.isRequired\n};\n\nexport default Bar;\n","import React, { Component } from 'react';\n\nimport PropTypes from 'prop-types';\n\nimport { withRouter } from 'react-router-dom';\n\nimport { auth } from '../../firebase';\n\nimport HomeIcon from '@material-ui/icons/Home';\n\nimport authentication from '../../services/authentication';\n\nimport EmptyState from '../EmptyState';\n\nclass HomeContent extends Component {\n  signInWithEmailLink = () => {\n    const {\n      user\n    } = this.props;\n\n    if (user) {\n      return;\n    }\n\n    const emailLink = window.location.href;\n\n    if (!emailLink) {\n      return;\n    }\n\n    if (auth.isSignInWithEmailLink(emailLink)) {\n      let emailAddress = localStorage.getItem('emailAddress');\n\n      if (!emailAddress) {\n        this.props.history.push('/');\n\n        return;\n      }\n\n      authentication.signInWithEmailLink(emailAddress, emailLink).then((value) => {\n        const user = value.user;\n        const displayName = user.displayName;\n        const emailAddress = user.email;\n\n        this.props.openSnackbar(`Signed in as ${displayName || emailAddress}`);\n      }).catch((reason) => {\n        const code = reason.code;\n        const message = reason.message;\n\n        switch (code) {\n          case 'auth/expired-action-code':\n          case 'auth/invalid-email':\n          case 'auth/user-disabled':\n            this.props.openSnackbar(message);\n            break;\n\n          default:\n            this.props.openSnackbar(message);\n            return;\n        }\n      }).finally(() => {\n        this.props.history.push('/');\n      });\n    }\n  };\n\n  render() {\n    // Properties\n    const {\n      user\n    } = this.props;\n\n    if (user) {\n      return (\n        <EmptyState\n          icon={<HomeIcon />}\n          title=\"Home\"\n        />\n      );\n    }\n\n    return (\n      <EmptyState\n        title={process.env.REACT_APP_TITLE}\n        description={process.env.REACT_APP_DESCRIPTION}\n      />\n    );\n  }\n\n  componentDidMount() {\n    this.signInWithEmailLink();\n  }\n}\n\nHomeContent.propTypes = {\n  // Properties\n  user: PropTypes.object\n};\n\nexport default withRouter(HomeContent);\n","import React, { Component } from 'react';\n\nimport FindIcon from '@material-ui/icons/FindInPage';\n\nimport EmptyState from '../EmptyState';\n\nclass NotFoundContent extends Component {\n  render() {\n    return (\n      <EmptyState\n        icon={<FindIcon />}\n        title=\"Content Not Found\"\n        description=\"The requested URL was not found on this server\"\n      />\n    );\n  }\n}\n\nexport default NotFoundContent;\n","import React, { Component } from 'react'\n\nimport PropTypes from 'prop-types';\n\nimport { BrowserRouter, Switch, Route } from \"react-router-dom\";\n\nimport HomeContent from '../HomeContent';\nimport NotFoundContent from '../NotFoundContent';\n\nclass Router extends Component {\n  render() {\n    // Properties\n    const {\n      user\n    } = this.props;\n\n    // Functions\n    const {\n      openSnackbar\n    } = this.props;\n\n    return (\n      <BrowserRouter basename={process.env.REACT_APP_BASENAME}>\n        <Switch>\n          <Route path=\"/\" exact>\n            <HomeContent\n              user={user}\n\n              openSnackbar={openSnackbar}\n            />\n          </Route>\n\n          <Route>\n            <NotFoundContent />\n          </Route>\n        </Switch>\n      </BrowserRouter>\n    )\n  }\n}\n\nRouter.propTypes = {\n  // Properties\n  user: PropTypes.object,\n\n  // Functions\n  openSnackbar: PropTypes.func.isRequired\n};\n\nexport default Router;\n","import React, { Component } from 'react';\n\nimport PropTypes from 'prop-types';\n\nimport { withStyles } from '@material-ui/core/styles';\n\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\n\nimport Typography from '@material-ui/core/Typography';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport IconButton from '@material-ui/core/IconButton';\n\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\n\nimport CloseIcon from '@material-ui/icons/Close';\n\nconst styles = (theme) => ({\n  closeButton: {\n    position: 'absolute',\n    right: theme.spacing(1),\n    top: theme.spacing(1)\n  }\n});\n\nclass AboutDialog extends Component {\n  render() {\n    // Styling\n    const {\n      classes\n    } = this.props;\n\n    // Dialog Properties\n    const {\n      dialogProps\n    } = this.props;\n\n    // Custom Properties\n    const {\n      theme,\n      user\n    } = this.props;\n\n    return (\n      <Dialog {...dialogProps}>\n        <DialogTitle disableTypography>\n          <Typography variant=\"h6\">About</Typography>\n\n          <Tooltip title=\"Close\">\n            <IconButton className={classes.closeButton} onClick={dialogProps.onClose}>\n              <CloseIcon />\n            </IconButton>\n          </Tooltip>\n        </DialogTitle>\n\n        <DialogContent>\n          <List dense={theme.dense} disablePadding>\n            <ListItem>\n              <ListItemText\n                primary=\"Version\"\n                secondary={process.env.REACT_APP_VERSION}\n              />\n            </ListItem>\n\n            {user &&\n              <ListItem>\n                <ListItemText\n                  primary=\"UID\"\n                  secondary={user.uid}\n                />\n              </ListItem>\n            }\n          </List>\n        </DialogContent>\n      </Dialog>\n    );\n  }\n}\n\nAboutDialog.propTypes = {\n  // Styling\n  classes: PropTypes.object.isRequired,\n\n  // Dialog Properties\n  dialogProps: PropTypes.object.isRequired,\n\n  // Custom Properties\n  theme: PropTypes.object.isRequired,\n  user: PropTypes.object,\n};\n\nexport default withStyles(styles)(AboutDialog);\n","import React, { Component } from 'react';\n\nimport PropTypes from 'prop-types';\n\nimport { createMuiTheme, withStyles, MuiThemeProvider } from '@material-ui/core/styles';\n\nimport Grid from '@material-ui/core/Grid';\nimport Button from '@material-ui/core/Button';\n\nimport AppleIcon from 'mdi-material-ui/Apple';\nimport FacebookBoxIcon from 'mdi-material-ui/FacebookBox';\nimport GitHubCircleIcon from 'mdi-material-ui/GithubCircle';\nimport GoogleIcon from 'mdi-material-ui/Google';\nimport MicrosoftIcon from 'mdi-material-ui/Microsoft';\nimport TwitterIcon from 'mdi-material-ui/Twitter';\nimport YahooIcon from 'mdi-material-ui/Yahoo';\n\nconst styles = (theme) => ({\n  grid: {\n    marginBottom: theme.spacing(2)\n  }\n});\n\nclass AuthProviderList extends Component {\n  render() {\n    // Styling\n    const {\n      classes\n    } = this.props;\n\n    // Properties\n    const {\n      gutterBottom,\n      performingAction\n    } = this.props;\n\n    // Events\n    const {\n      onAuthProviderClick\n    } = this.props;\n\n    const authProviders = [\n      {\n        providerId: 'apple.com',\n        theme: createMuiTheme({\n          palette: {\n            primary: {\n              main: '#000000',\n              contrastText: '#ffffff'\n            }\n          }\n        }),\n        icon: <AppleIcon />,\n        name: 'Apple'\n      },\n      {\n        providerId: 'facebook.com',\n        theme: createMuiTheme({\n          palette: {\n            primary: {\n              main: '#3c5a99',\n              contrastText: '#ffffff'\n            }\n          }\n        }),\n        icon: <FacebookBoxIcon />,\n        name: 'Facebook'\n      },\n      {\n        providerId: 'github.com',\n        theme: createMuiTheme({\n          palette: {\n            primary: {\n              main: '#24292e',\n              contrastText: '#ffffff'\n            }\n          }\n        }),\n        icon: <GitHubCircleIcon />,\n        name: 'GitHub'\n      },\n      {\n        providerId: 'google.com',\n        theme: createMuiTheme({\n          palette: {\n            primary: {\n              main: '#4285f4',\n              contrastText: '#ffffff'\n            }\n          }\n        }),\n        icon: <GoogleIcon />,\n        name: 'Google'\n      },\n      {\n        providerId: 'microsoft.com',\n        theme: createMuiTheme({\n          palette: {\n            primary: {\n              main: '#f65314',\n              contrastText: '#ffffff'\n            }\n          }\n        }),\n        icon: <MicrosoftIcon />,\n        name: 'Microsoft'\n      },\n      {\n        providerId: 'twitter.com',\n        theme: createMuiTheme({\n          palette: {\n            primary: {\n              main: '#1da1f2',\n              contrastText: '#ffffff'\n            }\n          }\n        }),\n        icon: <TwitterIcon />,\n        name: 'Twitter'\n      },\n      {\n        providerId: 'yahoo.com',\n        theme: createMuiTheme({\n          palette: {\n            primary: {\n              main: '#410093',\n              contrastText: '#ffffff'\n            }\n          }\n        }),\n        icon: <YahooIcon />,\n        name: 'Yahoo'\n      }\n    ];\n\n    if (gutterBottom) {\n      return (\n        <Grid className={classes.grid} container direction=\"column\" spacing={1}>\n          {authProviders.map((authProvider) => {\n            return (\n              <Grid key={authProvider.providerId} item>\n                <MuiThemeProvider theme={authProvider.theme}>\n                  <Button\n                    color=\"primary\"\n                    disabled={performingAction}\n                    fullWidth\n                    startIcon={authProvider.icon}\n                    variant=\"contained\"\n                    onClick={() => onAuthProviderClick(authProvider.providerId)}>\n                    {authProvider.name}\n                  </Button>\n                </MuiThemeProvider>\n              </Grid>\n            );\n          })}\n        </Grid>\n      );\n    }\n\n    return (\n      <Grid container direction=\"column\" spacing={1}>\n        {authProviders.map((authProvider) => {\n          return (\n            <Grid key={authProvider.providerId} item>\n              <MuiThemeProvider theme={authProvider.theme}>\n                <Button\n                  color=\"primary\"\n                  disabled={performingAction}\n                  fullWidth\n                  startIcon={authProvider.icon}\n                  variant=\"contained\"\n                  onClick={() => onAuthProviderClick(authProvider.providerId)}>\n                  {authProvider.name}\n                </Button>\n              </MuiThemeProvider>\n            </Grid>\n          );\n        })}\n      </Grid>\n    );\n  }\n}\n\nAuthProviderList.defaultProps = {\n  gutterBottom: false,\n  performingAction: false\n};\n\nAuthProviderList.propTypes = {\n  // Styling\n  classes: PropTypes.object.isRequired,\n\n  // Properties\n  gutterBottom: PropTypes.bool,\n  performingAction: PropTypes.bool,\n\n  // Events\n  onAuthProviderClick: PropTypes.func.isRequired\n};\n\nexport default withStyles(styles)(AuthProviderList);\n","const constraints = {\n  firstName: {\n    presence: {\n      allowEmpty: false\n    },\n\n    type: 'string'\n  },\n\n  lastName: {\n    presence: {\n      allowEmpty: false\n    },\n\n    type: 'string'\n  },\n\n  username: {\n    length: {\n      minimum: 2,\n      maximum: 20\n    },\n\n    presence: {\n      allowEmpty: false\n    },\n\n    type: 'string'\n  },\n\n  emailAddress: {\n    email: {\n      message: '^E-mail address is invalid'\n    },\n\n    presence: {\n      allowEmpty: false\n    },\n\n    type: 'string'\n  },\n\n  emailAddressConfirmation: {\n    email: {\n      message: '^E-mail address confirmation is invalid'\n    },\n\n    equality: {\n      attribute: 'emailAddress',\n      message: '^E-mail address confirmation is not equal to e-mail address'\n    },\n\n    presence: {\n      allowEmpty: false\n    },\n\n    type: 'string'\n  },\n\n  password: {\n    length: {\n      minimum: 6\n    },\n\n    presence: {\n      allowEmpty: false\n    },\n\n    type: 'string'\n  },\n\n  passwordConfirmation: {\n    equality: 'password',\n\n    length: {\n      minimum: 6\n    },\n\n    presence: {\n      allowEmpty: false\n    },\n\n    type: 'string'\n  }\n};\n\nexport default constraints;\n","import React, { Component } from 'react';\n\nimport PropTypes from 'prop-types';\n\nimport validate from 'validate.js';\n\nimport { withStyles } from '@material-ui/core/styles';\n\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogActions from '@material-ui/core/DialogActions';\n\nimport Hidden from '@material-ui/core/Hidden';\nimport Grid from '@material-ui/core/Grid';\nimport Button from '@material-ui/core/Button';\nimport Divider from '@material-ui/core/Divider';\nimport TextField from '@material-ui/core/TextField';\n\nimport AuthProviderList from '../AuthProviderList';\n\nimport constraints from '../../constraints';\nimport authentication from '../../services/authentication';\n\nconst styles = (theme) => ({\n  icon: {\n    marginRight: theme.spacing(0.5)\n  },\n\n  divider: {\n    margin: 'auto'\n  },\n\n  grid: {\n    marginBottom: theme.spacing(2)\n  }\n});\n\nconst initialState = {\n  performingAction: false,\n  emailAddress: '',\n  emailAddressConfirmation: '',\n  password: '',\n  passwordConfirmation: '',\n  errors: null\n};\n\nclass SignUpDialog extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = initialState;\n  }\n\n  signUp = () => {\n    const {\n      emailAddress,\n      emailAddressConfirmation,\n      password,\n      passwordConfirmation\n    } = this.state;\n\n    const errors = validate({\n      emailAddress: emailAddress,\n      emailAddressConfirmation: emailAddressConfirmation,\n      password: password,\n      passwordConfirmation: passwordConfirmation\n    }, {\n      emailAddress: constraints.emailAddress,\n      emailAddressConfirmation: constraints.emailAddressConfirmation,\n      password: constraints.password,\n      passwordConfirmation: constraints.passwordConfirmation\n    });\n\n    if (errors) {\n      this.setState({\n        errors: errors\n      });\n    } else {\n      this.setState({\n        performingAction: true,\n        errors: null\n      }, () => {\n        authentication.signUpWithEmailAddressAndPassword(emailAddress, password).then((value) => {\n          this.props.dialogProps.onClose();\n        }).catch((reason) => {\n          const code = reason.code;\n          const message = reason.message;\n\n          switch (code) {\n            case 'auth/email-already-in-use':\n            case 'auth/invalid-email':\n            case 'auth/operation-not-allowed':\n            case 'auth/weak-password':\n              this.props.openSnackbar(message);\n              return;\n\n            default:\n              this.props.openSnackbar(message);\n              return;\n          }\n        }).finally(() => {\n          this.setState({\n            performingAction: false\n          });\n        });\n      });\n    }\n  };\n\n  signInWithAuthProvider = (providerId) => {\n    this.setState({\n      performingAction: true\n    }, () => {\n      authentication.signInWithAuthProvider(providerId).then((user) => {\n        this.props.dialogProps.onClose(() => {\n          const displayName = user.displayName;\n          const emailAddress = user.email;\n\n          this.props.openSnackbar(`Signed in as ${displayName || emailAddress}`);\n        });\n      }).catch((reason) => {\n        const code = reason.code;\n        const message = reason.message;\n\n        switch (code) {\n          case 'auth/account-exists-with-different-credential':\n          case 'auth/auth-domain-config-required':\n          case 'auth/cancelled-popup-request':\n          case 'auth/operation-not-allowed':\n          case 'auth/operation-not-supported-in-this-environment':\n          case 'auth/popup-blocked':\n          case 'auth/popup-closed-by-user':\n          case 'auth/unauthorized-domain':\n            this.props.openSnackbar(message);\n            return;\n\n          default:\n            this.props.openSnackbar(message);\n            return;\n        }\n      }).finally(() => {\n        this.setState({\n          performingAction: false\n        });\n      });\n    });\n  };\n\n  handleKeyPress = (event) => {\n    const {\n      emailAddress,\n      emailAddressConfirmation,\n      password,\n      passwordConfirmation\n    } = this.state;\n\n    if (!emailAddress ||\n      !emailAddressConfirmation ||\n      !password ||\n      !passwordConfirmation) {\n      return;\n    }\n\n    const key = event.key;\n\n    if (event.altKey || event.ctrlKey || event.metaKey || event.shiftKey) {\n      return;\n    }\n\n    if (key === 'Enter') {\n      this.signUp();\n    }\n  };\n\n  handleExited = () => {\n    this.setState(initialState);\n  };\n\n  handleEmailAddressChange = (event) => {\n    const emailAddress = event.target.value;\n\n    this.setState({\n      emailAddress: emailAddress\n    });\n  };\n\n  handleEmailAddressConfirmationChange = (event) => {\n    const emailAddressConfirmation = event.target.value;\n\n    this.setState({\n      emailAddressConfirmation: emailAddressConfirmation\n    });\n  };\n\n  handlePasswordChange = (event) => {\n    const password = event.target.value;\n\n    this.setState({\n      password: password\n    });\n  };\n\n  handlePasswordConfirmationChange = (event) => {\n    const passwordConfirmation = event.target.value;\n\n    this.setState({\n      passwordConfirmation: passwordConfirmation\n    });\n  };\n\n  render() {\n    // Styling\n    const {\n      classes\n    } = this.props;\n\n    // Dialog Properties\n    const {\n      dialogProps\n    } = this.props;\n\n    const {\n      performingAction,\n      emailAddress,\n      emailAddressConfirmation,\n      password,\n      passwordConfirmation,\n      errors\n    } = this.state;\n\n    return (\n      <Dialog fullWidth maxWidth=\"sm\" {...dialogProps} onKeyPress={this.handleKeyPress} onExited={this.handleExited}>\n        <DialogTitle>\n          Sign up for an account\n        </DialogTitle>\n\n        <Hidden xsDown>\n          <DialogContent>\n            <Grid container direction=\"row\">\n              <Grid item xs={4}>\n                <AuthProviderList\n                  performingAction={performingAction}\n\n                  onAuthProviderClick={this.signInWithAuthProvider}\n                />\n              </Grid>\n\n              <Grid item xs={1}>\n                <Divider className={classes.divider} orientation=\"vertical\" />\n              </Grid>\n\n              <Grid item xs={7}>\n                <Grid container direction=\"column\" spacing={2}>\n                  <Grid item xs>\n                    <TextField\n                      autoComplete=\"email\"\n                      disabled={performingAction}\n                      error={!!(errors && errors.emailAddress)}\n                      fullWidth\n                      helperText={(errors && errors.emailAddress) ? errors.emailAddress[0] : ''}\n                      label=\"E-mail address\"\n                      placeholder=\"john@doe.com\"\n                      required\n                      type=\"email\"\n                      value={emailAddress}\n                      variant=\"outlined\"\n\n                      onChange={this.handleEmailAddressChange}\n                    />\n                  </Grid>\n\n                  <Grid item xs>\n                    <TextField\n                      autoComplete=\"email\"\n                      disabled={performingAction}\n                      error={!!(errors && errors.emailAddressConfirmation)}\n                      fullWidth\n                      helperText={(errors && errors.emailAddressConfirmation) ? errors.emailAddressConfirmation[0] : ''}\n                      label=\"E-mail address confirmation\"\n                      placeholder=\"john@doe.com\"\n                      required\n                      type=\"email\"\n                      value={emailAddressConfirmation}\n                      variant=\"outlined\"\n\n                      onChange={this.handleEmailAddressConfirmationChange}\n                    />\n                  </Grid>\n\n                  <Grid item xs>\n                    <TextField\n                      autoComplete=\"new-password\"\n                      disabled={performingAction}\n                      error={!!(errors && errors.password)}\n                      fullWidth\n                      helperText={(errors && errors.password) ? errors.password[0] : ''}\n                      label=\"Password\"\n                      placeholder=\"&bull;&bull;&bull;&bull;&bull;&bull;&bull;&bull;&bull;&bull;&bull;&bull;&bull;&bull;\"\n                      required\n                      type=\"password\"\n                      value={password}\n                      variant=\"outlined\"\n\n                      onChange={this.handlePasswordChange}\n                    />\n                  </Grid>\n\n                  <Grid item xs>\n                    <TextField\n                      autoComplete=\"password\"\n                      disabled={performingAction}\n                      error={!!(errors && errors.passwordConfirmation)}\n                      fullWidth\n                      helperText={(errors && errors.passwordConfirmation) ? errors.passwordConfirmation[0] : ''}\n                      label=\"Password confirmation\"\n                      placeholder=\"&bull;&bull;&bull;&bull;&bull;&bull;&bull;&bull;&bull;&bull;&bull;&bull;&bull;&bull;\"\n                      required\n                      type=\"password\"\n                      value={passwordConfirmation}\n                      variant=\"outlined\"\n\n                      onChange={this.handlePasswordConfirmationChange}\n                    />\n                  </Grid>\n                </Grid>\n              </Grid>\n            </Grid>\n          </DialogContent>\n        </Hidden>\n\n        <Hidden smUp>\n          <DialogContent>\n            <AuthProviderList\n              gutterBottom\n              performingAction={performingAction}\n\n              onAuthProviderClick={this.signInWithAuthProvider}\n            />\n\n            <Grid container direction=\"column\" spacing={2}>\n              <Grid item xs>\n                <TextField\n                  autoComplete=\"email\"\n                  disabled={performingAction}\n                  error={!!(errors && errors.emailAddress)}\n                  fullWidth\n                  helperText={(errors && errors.emailAddress) ? errors.emailAddress[0] : ''}\n                  label=\"E-mail address\"\n                  placeholder=\"john@doe.com\"\n                  required\n                  type=\"email\"\n                  value={emailAddress}\n                  variant=\"outlined\"\n\n                  onChange={this.handleEmailAddressChange}\n                />\n              </Grid>\n\n              <Grid item xs>\n                <TextField\n                  autoComplete=\"email\"\n                  disabled={performingAction}\n                  error={!!(errors && errors.emailAddressConfirmation)}\n                  fullWidth\n                  helperText={(errors && errors.emailAddressConfirmation) ? errors.emailAddressConfirmation[0] : ''}\n                  label=\"E-mail address confirmation\"\n                  placeholder=\"john@doe.com\"\n                  required\n                  type=\"email\"\n                  value={emailAddressConfirmation}\n                  variant=\"outlined\"\n\n                  onChange={this.handleEmailAddressConfirmationChange}\n                />\n              </Grid>\n\n              <Grid item xs>\n                <TextField\n                  autoComplete=\"new-password\"\n                  disabled={performingAction}\n                  error={!!(errors && errors.password)}\n                  fullWidth\n                  helperText={(errors && errors.password) ? errors.password[0] : ''}\n                  label=\"Password\"\n                  placeholder=\"&bull;&bull;&bull;&bull;&bull;&bull;&bull;&bull;&bull;&bull;&bull;&bull;&bull;&bull;\"\n                  required\n                  type=\"password\"\n                  value={password}\n                  variant=\"outlined\"\n\n                  onChange={this.handlePasswordChange}\n                />\n              </Grid>\n\n              <Grid item xs>\n                <TextField\n                  autoComplete=\"password\"\n                  disabled={performingAction}\n                  error={!!(errors && errors.passwordConfirmation)}\n                  fullWidth\n                  helperText={(errors && errors.passwordConfirmation) ? errors.passwordConfirmation[0] : ''}\n                  label=\"Password confirmation\"\n                  placeholder=\"&bull;&bull;&bull;&bull;&bull;&bull;&bull;&bull;&bull;&bull;&bull;&bull;&bull;&bull;\"\n                  required\n                  type=\"password\"\n                  value={passwordConfirmation}\n                  variant=\"outlined\"\n\n                  onChange={this.handlePasswordConfirmationChange}\n                />\n              </Grid>\n            </Grid>\n          </DialogContent>\n        </Hidden>\n\n        <DialogActions>\n          <Button color=\"primary\" onClick={dialogProps.onClose}>Cancel</Button>\n\n          <Button\n            color=\"primary\"\n            disabled={\n              !emailAddress ||\n              !emailAddressConfirmation ||\n              !password ||\n              !passwordConfirmation ||\n              performingAction\n            }\n            variant=\"contained\"\n\n            onClick={this.signUp}>\n            Sign up\n          </Button>\n        </DialogActions>\n      </Dialog>\n    );\n  }\n}\n\nSignUpDialog.propTypes = {\n  // Styling\n  classes: PropTypes.object.isRequired,\n\n  // Dialog Properties\n  dialogProps: PropTypes.object.isRequired,\n\n  // Custom Functions\n  openSnackbar: PropTypes.func.isRequired\n};\n\nexport default withStyles(styles)(SignUpDialog);\n","import React, { Component } from 'react';\n\nimport PropTypes from 'prop-types';\n\nimport validate from 'validate.js';\n\nimport { withStyles } from '@material-ui/core/styles';\n\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogActions from '@material-ui/core/DialogActions';\n\nimport Hidden from '@material-ui/core/Hidden';\nimport Grid from '@material-ui/core/Grid';\nimport Button from '@material-ui/core/Button';\nimport Divider from '@material-ui/core/Divider';\nimport TextField from '@material-ui/core/TextField';\n\nimport AuthProviderList from '../AuthProviderList';\n\nimport constraints from '../../constraints';\nimport authentication from '../../services/authentication';\n\nconst styles = (theme) => ({\n  icon: {\n    marginRight: theme.spacing(0.5)\n  },\n\n  divider: {\n    margin: 'auto'\n  },\n\n  grid: {\n    marginBottom: theme.spacing(2)\n  }\n});\n\nconst initialState = {\n  performingAction: false,\n  emailAddress: '',\n  password: '',\n  errors: null\n};\n\nclass SignInDialog extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = initialState;\n  }\n\n  getSignInButton = () => {\n    const {\n      emailAddress,\n      password,\n      performingAction\n    } = this.state;\n\n    if (emailAddress && !password) {\n      return (\n        <Button\n          color=\"primary\"\n          disabled={!emailAddress || performingAction}\n          variant=\"contained\"\n\n          onClick={() => this.sendSignInLinkToEmail()}>\n          Send sign-in link\n        </Button>\n      );\n    }\n\n    return (\n      <Button\n        color=\"primary\"\n        disabled={!emailAddress || performingAction}\n        variant=\"contained\"\n\n        onClick={() => this.signIn()}>\n        Sign in\n      </Button>\n    );\n  };\n\n  resetPassword = () => {\n    const {\n      emailAddress\n    } = this.state;\n\n    const errors = validate({\n      emailAddress: emailAddress\n    }, {\n      emailAddress: constraints.emailAddress\n    });\n\n    if (errors) {\n      this.setState({\n        errors: errors\n      });\n    } else {\n      this.setState({\n        errors: null\n      }, () => {\n        this.setState({\n          performingAction: true\n        }, () => {\n          authentication.resetPassword(emailAddress).then((value) => {\n            this.props.openSnackbar(`Sent password reset e-mail to ${emailAddress}`);\n          }).catch((reason) => {\n            const code = reason.code;\n            const message = reason.message;\n\n            switch (code) {\n              case 'auth/invalid-email':\n              case 'auth/missing-android-pkg-name':\n              case 'auth/missing-continue-uri':\n              case 'auth/missing-ios-bundle-id':\n              case 'auth/invalid-continue-uri':\n              case 'auth/unauthorized-continue-uri':\n              case 'auth/user-not-found':\n                this.props.openSnackbar(message);\n                return;\n\n              default:\n                this.props.openSnackbar(message);\n                return;\n            }\n          }).finally(() => {\n            this.setState({\n              performingAction: false\n            });\n          });\n        });\n      });\n    }\n  };\n\n  signIn = () => {\n    const {\n      emailAddress,\n      password\n    } = this.state;\n\n    const errors = validate({\n      emailAddress: emailAddress,\n      password: password\n    }, {\n      emailAddress: constraints.emailAddress,\n      password: constraints.password\n    });\n\n    if (errors) {\n      this.setState({\n        errors: errors\n      });\n    } else {\n      this.setState({\n        performingAction: true,\n        errors: null\n      }, () => {\n        authentication.signIn(emailAddress, password).then((user) => {\n          this.props.dialogProps.onClose(() => {\n            const displayName = user.displayName;\n            const emailAddress = user.email;\n\n            this.props.openSnackbar(`Signed in as ${displayName || emailAddress}`);\n          });\n        }).catch((reason) => {\n          const code = reason.code;\n          const message = reason.message;\n\n          switch (code) {\n            case 'auth/invalid-email':\n            case 'auth/user-disabled':\n            case 'auth/user-not-found':\n            case 'auth/wrong-password':\n              this.props.openSnackbar(message);\n              return;\n\n            default:\n              this.props.openSnackbar(message);\n              return;\n          }\n        }).finally(() => {\n          this.setState({\n            performingAction: false\n          });\n        });\n      });\n    }\n  };\n\n  sendSignInLinkToEmail = () => {\n    const {\n      emailAddress\n    } = this.state;\n\n    const errors = validate({\n      emailAddress: emailAddress\n    }, {\n      emailAddress: constraints.emailAddress\n    });\n\n    if (errors) {\n      this.setState({\n        errors: errors\n      });\n\n      return;\n    }\n\n    this.setState({\n      performingAction: true,\n      errors: null\n    }, () => {\n      authentication.sendSignInLinkToEmail(emailAddress).then(() => {\n        this.props.dialogProps.onClose(() => {\n          this.props.openSnackbar(`Sent sign-in e-mail to ${emailAddress}`);\n        });\n      }).catch((reason) => {\n        const code = reason.code;\n        const message = reason.message;\n\n        switch (code) {\n          case 'auth/argument-error':\n          case 'auth/invalid-email':\n          case 'auth/missing-android-pkg-name':\n          case 'auth/missing-continue-uri':\n          case 'auth/missing-ios-bundle-id':\n          case 'auth/invalid-continue-uri':\n          case 'auth/unauthorized-continue-uri':\n            this.props.openSnackbar(message);\n            return;\n\n          default:\n            this.props.openSnackbar(message);\n            return;\n        }\n      }).finally(() => {\n        this.setState({\n          performingAction: false\n        });\n      });\n    });\n  };\n\n  signInWithAuthProvider = (providerId) => {\n    this.setState({\n      performingAction: true\n    }, () => {\n      authentication.signInWithAuthProvider(providerId).then((user) => {\n        this.props.dialogProps.onClose(() => {\n          const displayName = user.displayName;\n          const emailAddress = user.email;\n\n          this.props.openSnackbar(`Signed in as ${displayName || emailAddress}`);\n        });\n      }).catch((reason) => {\n        const code = reason.code;\n        const message = reason.message;\n\n        switch (code) {\n          case 'auth/account-exists-with-different-credential':\n          case 'auth/auth-domain-config-required':\n          case 'auth/cancelled-popup-request':\n          case 'auth/operation-not-allowed':\n          case 'auth/operation-not-supported-in-this-environment':\n          case 'auth/popup-blocked':\n          case 'auth/popup-closed-by-user':\n          case 'auth/unauthorized-domain':\n            this.props.openSnackbar(message);\n            return;\n\n          default:\n            this.props.openSnackbar(message);\n            return;\n        }\n      }).finally(() => {\n        this.setState({\n          performingAction: false\n        });\n      });\n    });\n  };\n\n  handleKeyPress = (event) => {\n    const {\n      emailAddress,\n      password\n    } = this.state;\n\n    if (!emailAddress && !password) {\n      return;\n    }\n\n    const key = event.key;\n\n    if (event.altKey || event.ctrlKey || event.metaKey || event.shiftKey) {\n      return;\n    }\n\n    if (key === 'Enter') {\n      if (emailAddress && !password) {\n        this.sendSignInLinkToEmail();\n      } else {\n        this.signIn();\n      }\n    }\n  };\n\n  handleExited = () => {\n    this.setState(initialState);\n  };\n\n  handleEmailAddressChange = (event) => {\n    const emailAddress = event.target.value;\n\n    this.setState({\n      emailAddress: emailAddress\n    });\n  };\n\n  handlePasswordChange = (event) => {\n    const password = event.target.value;\n\n    this.setState({\n      password: password\n    });\n  };\n\n  render() {\n    // Styling\n    const {\n      classes\n    } = this.props;\n\n    // Dialog Properties\n    const {\n      dialogProps\n    } = this.props;\n\n    const {\n      performingAction,\n      emailAddress,\n      password,\n      errors\n    } = this.state;\n\n    return (\n      <Dialog fullWidth maxWidth=\"sm\" {...dialogProps} onKeyPress={this.handleKeyPress} onExited={this.handleExited}>\n        <DialogTitle>\n          Sign in to your account\n        </DialogTitle>\n\n        <DialogContent>\n          <Hidden xsDown>\n            <Grid container direction=\"row\">\n              <Grid item xs={4}>\n                <AuthProviderList\n                  performingAction={performingAction}\n\n                  onAuthProviderClick={this.signInWithAuthProvider}\n                />\n              </Grid>\n\n              <Grid item xs={1}>\n                <Divider className={classes.divider} orientation=\"vertical\" />\n              </Grid>\n\n              <Grid item xs={7}>\n                <Grid container direction=\"column\" spacing={2}>\n                  <Grid item xs>\n                    <TextField\n                      autoComplete=\"email\"\n                      disabled={performingAction}\n                      error={!!(errors && errors.emailAddress)}\n                      fullWidth\n                      helperText={(errors && errors.emailAddress) ? errors.emailAddress[0] : ''}\n                      label=\"E-mail address\"\n                      placeholder=\"john@doe.com\"\n                      required\n                      type=\"email\"\n                      value={emailAddress}\n                      variant=\"outlined\"\n\n                      onChange={this.handleEmailAddressChange}\n                    />\n                  </Grid>\n\n                  <Grid item xs>\n                    <TextField\n                      autoComplete=\"current-password\"\n                      disabled={performingAction}\n                      error={!!(errors && errors.password)}\n                      fullWidth\n                      helperText={(errors && errors.password) ? errors.password[0] : ''}\n                      label=\"Password\"\n                      placeholder=\"&bull;&bull;&bull;&bull;&bull;&bull;&bull;&bull;&bull;&bull;&bull;&bull;&bull;&bull;\"\n                      required\n                      type=\"password\"\n                      value={password}\n                      variant=\"outlined\"\n\n                      onChange={this.handlePasswordChange}\n                    />\n                  </Grid>\n                </Grid>\n              </Grid>\n            </Grid>\n          </Hidden>\n\n          <Hidden smUp>\n            <AuthProviderList\n              gutterBottom\n              performingAction={performingAction}\n\n              onAuthProviderClick={this.signInWithAuthProvider}\n            />\n\n            <Grid container direction=\"column\" spacing={2}>\n              <Grid item xs>\n                <TextField\n                  autoComplete=\"email\"\n                  disabled={performingAction}\n                  error={!!(errors && errors.emailAddress)}\n                  fullWidth\n                  helperText={(errors && errors.emailAddress) ? errors.emailAddress[0] : ''}\n                  label=\"E-mail address\"\n                  placeholder=\"john@doe.com\"\n                  required\n                  type=\"email\"\n                  value={emailAddress}\n                  variant=\"outlined\"\n\n                  onChange={this.handleEmailAddressChange}\n                />\n              </Grid>\n\n              <Grid item xs>\n                <TextField\n                  autoComplete=\"current-password\"\n                  disabled={performingAction}\n                  error={!!(errors && errors.password)}\n                  fullWidth\n                  helperText={(errors && errors.password) ? errors.password[0] : ''}\n                  label=\"Password\"\n                  placeholder=\"&bull;&bull;&bull;&bull;&bull;&bull;&bull;&bull;&bull;&bull;&bull;&bull;&bull;&bull;\"\n                  required\n                  type=\"password\"\n                  value={password}\n                  variant=\"outlined\"\n\n                  onChange={this.handlePasswordChange}\n                />\n              </Grid>\n            </Grid>\n          </Hidden>\n        </DialogContent>\n\n        <DialogActions>\n          <Button color=\"primary\" onClick={dialogProps.onClose}>Cancel</Button>\n\n          <Button\n            color=\"primary\"\n            disabled={!emailAddress || performingAction}\n            variant=\"outlined\"\n\n            onClick={this.resetPassword}>\n            Reset password\n          </Button>\n\n          {this.getSignInButton()}\n        </DialogActions>\n      </Dialog>\n    );\n  }\n}\n\nSignInDialog.propTypes = {\n  // Styling\n  classes: PropTypes.object.isRequired,\n\n  // Dialog Properties\n  dialogProps: PropTypes.object.isRequired,\n\n  // Custom Functions\n  openSnackbar: PropTypes.func.isRequired\n};\n\nexport default withStyles(styles)(SignInDialog);\n","import React, { Component } from 'react';\n\nimport PropTypes from 'prop-types';\n\nimport validate from 'validate.js';\nimport moment from 'moment';\n\nimport { withStyles } from '@material-ui/core/styles';\n\nimport DialogContent from '@material-ui/core/DialogContent';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport Box from '@material-ui/core/Box';\nimport Fade from '@material-ui/core/Fade';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Badge from '@material-ui/core/Badge';\nimport Avatar from '@material-ui/core/Avatar';\nimport Fab from '@material-ui/core/Fab';\nimport Button from '@material-ui/core/Button';\n\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\n\nimport Hidden from '@material-ui/core/Hidden';\nimport TextField from '@material-ui/core/TextField';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport IconButton from '@material-ui/core/IconButton';\nimport Divider from '@material-ui/core/Divider';\n\nimport CloseIcon from '@material-ui/icons/Close';\nimport PhotoIcon from '@material-ui/icons/Photo';\nimport CloudUploadIcon from '@material-ui/icons/CloudUpload';\nimport PersonIcon from '@material-ui/icons/Person';\nimport EditIcon from '@material-ui/icons/Edit';\nimport PersonOutlineIcon from '@material-ui/icons/PersonOutline';\nimport EmailIcon from '@material-ui/icons/Email';\nimport WarningIcon from '@material-ui/icons/Warning';\nimport CheckIcon from '@material-ui/icons/Check';\nimport AccessTimeIcon from '@material-ui/icons/AccessTime';\nimport DeleteForeverIcon from '@material-ui/icons/DeleteForever';\n\nimport constraints from '../../constraints';\nimport authentication from '../../services/authentication';\n\nconst styles = (theme) => ({\n  dialogContent: {\n    paddingTop: theme.spacing(2)\n  },\n\n  badge: {\n    top: theme.spacing(2),\n    right: -theme.spacing(2)\n  },\n\n  loadingBadge: {\n    top: '50%',\n    right: '50%'\n  },\n\n  avatar: {\n    marginRight: 'auto',\n    marginLeft: 'auto',\n\n    width: theme.spacing(14),\n    height: theme.spacing(14)\n  },\n\n  nameInitials: {\n    cursor: 'default'\n  },\n\n  personIcon: {\n    fontSize: theme.spacing(7)\n  },\n\n  small: {\n    width: theme.spacing(4),\n    height: theme.spacing(4),\n\n    minHeight: 'initial'\n  }\n});\n\nconst initialState = {\n  profileCompletion: 0,\n  securityRating: 0,\n  showingField: '',\n  avatar: null,\n  avatarUrl: '',\n  firstName: '',\n  lastName: '',\n  username: '',\n  emailAddress: '',\n  performingAction: false,\n  loadingAvatar: false,\n  sentVerificationEmail: false,\n  errors: null\n};\n\nclass AccountTab extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = initialState;\n  }\n\n  getNameInitialsOrIcon = () => {\n    const {\n      user\n    } = this.props;\n\n    if (!user) {\n      return null;\n    }\n\n    const {\n      classes,\n      userData\n    } = this.props;\n\n    if (!userData) {\n      return <PersonIcon className={classes.personIcon} />;\n    }\n\n    const nameInitials = authentication.user.getNameInitials({\n      ...user,\n      ...userData\n    });\n\n    if (nameInitials) {\n      return nameInitials;\n    }\n\n    return <PersonIcon className={classes.personIcon} />;\n  };\n\n  uploadAvatar = () => {\n    const {\n      avatar\n    } = this.state;\n\n    if (!avatar) {\n      return;\n    }\n\n    this.setState({\n      performingAction: true,\n      loadingAvatar: true\n    }, () => {\n      authentication.changeAvatar(avatar).then((value) => {\n        const {\n          user,\n          userData\n        } = this.props;\n\n        this.setState({\n          profileCompletion: authentication.user.getProfileCompletion({ ...user, ...userData })\n        }, () => {\n          this.props.openSnackbar('Changed avatar');\n        });\n      }).catch((reason) => {\n        const code = reason.code;\n        const message = reason.message;\n\n        switch (code) {\n          default:\n            this.props.openSnackbar(message);\n            return;\n        }\n      }).finally(() => {\n        this.setState({\n          performingAction: false,\n          loadingAvatar: false,\n          avatar: null,\n          avatarUrl: ''\n        });\n      });\n    });\n  };\n\n  removeAvatar = () => {\n    const {\n      user\n    } = this.props;\n\n    const {\n      avatar,\n      avatarUrl\n    } = this.state;\n\n    if (!user.photoURL && !avatar && !avatarUrl) {\n      return;\n    }\n\n    if ((!user.photoURL && avatar && avatarUrl) || (user.photoURL && avatar && avatarUrl)) {\n      URL.revokeObjectURL(avatarUrl);\n\n      this.setState({\n        avatar: null,\n        avatarUrl: ''\n      }, () => {\n        this.props.openSnackbar(`Removed image ${avatar.name}`, 5);\n      });\n    } else if (user.photoURL && !avatar && !avatarUrl) {\n      this.setState({\n        performingAction: true,\n        loadingAvatar: true\n      }, () => {\n        authentication.removeAvatar().then((value) => {\n          const {\n            user,\n            userData\n          } = this.props;\n\n          this.setState({\n            profileCompletion: authentication.user.getProfileCompletion({ ...user, ...userData })\n          }, () => {\n            this.props.openSnackbar('Removed avatar');\n          });\n        }).catch((reason) => {\n          const code = reason.code;\n          const message = reason.message;\n\n          switch (code) {\n            default:\n              this.props.openSnackbar(message);\n              return;\n          }\n        }).finally(() => {\n          this.setState({\n            performingAction: false,\n            loadingAvatar: false\n          });\n        });\n      });\n    }\n  };\n\n  showField = (fieldId) => {\n    if (!fieldId) {\n      return;\n    }\n\n    this.setState({\n      showingField: fieldId\n    });\n  };\n\n  hideFields = (callback) => {\n    this.setState({\n      showingField: '',\n      firstName: '',\n      lastName: '',\n      username: '',\n      emailAddress: '',\n      errors: null\n    }, () => {\n      if (callback && typeof callback === 'function') {\n        callback();\n      }\n    });\n  };\n\n  changeFirstName = () => {\n    const {\n      firstName\n    } = this.state;\n\n    const errors = validate({\n      firstName: firstName\n    }, {\n      firstName: constraints.firstName\n    });\n\n    if (errors) {\n      this.setState({\n        errors: errors\n      });\n\n      return;\n    }\n\n    this.setState({\n      errors: null\n    }, () => {\n      const {\n        userData\n      } = this.props;\n\n      if (firstName === userData.firstName) {\n        return;\n      }\n\n      this.setState({\n        performingAction: true\n      }, () => {\n        authentication.changeFirstName(firstName).then(() => {\n          const {\n            user,\n            userData\n          } = this.props;\n\n          this.setState({\n            profileCompletion: authentication.user.getProfileCompletion({ ...user, ...userData })\n          }, () => {\n            this.hideFields(() => {\n              this.props.openSnackbar('Changed first name');\n            });\n          });\n        }).catch((reason) => {\n          const code = reason.code;\n          const message = reason.message;\n\n          switch (code) {\n            default:\n              this.props.openSnackbar(message);\n              return;\n          }\n        }).finally(() => {\n          this.setState({\n            performingAction: false\n          });\n        });\n      });\n    });\n  };\n\n  changeLastName = () => {\n    const {\n      lastName\n    } = this.state;\n\n    const errors = validate({\n      lastName: lastName\n    }, {\n      lastName: constraints.lastName\n    });\n\n    if (errors) {\n      this.setState({\n        errors: errors\n      });\n\n      return;\n    }\n\n    this.setState({\n      errors: null\n    }, () => {\n      const {\n        userData\n      } = this.props;\n\n      if (lastName === userData.lastName) {\n        return;\n      }\n\n      this.setState({\n        performingAction: true\n      }, () => {\n        authentication.changeLastName(lastName).then(() => {\n          const {\n            user,\n            userData\n          } = this.props;\n\n          this.setState({\n            profileCompletion: authentication.user.getProfileCompletion({ ...user, ...userData })\n          }, () => {\n            this.hideFields(() => {\n              this.props.openSnackbar('Changed last name');\n            });\n          });\n        }).catch((reason) => {\n          const code = reason.code;\n          const message = reason.message;\n\n          switch (code) {\n            default:\n              this.props.openSnackbar(message);\n              return;\n          }\n        }).finally(() => {\n          this.setState({\n            performingAction: false\n          });\n        });\n      });\n    });\n  };\n\n  changeUsername = () => {\n    const {\n      username\n    } = this.state;\n\n    const errors = validate({\n      username: username\n    }, {\n      username: constraints.username\n    });\n\n    if (errors) {\n      this.setState({\n        errors: errors\n      });\n\n      return;\n    }\n\n    this.setState({\n      errors: null\n    }, () => {\n      const {\n        userData\n      } = this.props;\n\n      if (username === userData.username) {\n        return;\n      }\n\n      this.setState({\n        performingAction: true\n      }, () => {\n        authentication.changeUsername(username).then(() => {\n          const {\n            user,\n            userData\n          } = this.props;\n\n          this.setState({\n            profileCompletion: authentication.user.getProfileCompletion({ ...user, ...userData })\n          }, () => {\n            this.hideFields(() => {\n              this.props.openSnackbar('Changed username');\n            });\n          });\n        }).catch((reason) => {\n          const code = reason.code;\n          const message = reason.message;\n\n          switch (code) {\n            default:\n              this.props.openSnackbar(message);\n              return;\n          }\n        }).finally(() => {\n          this.setState({\n            performingAction: false\n          });\n        });\n      });\n    });\n  };\n\n  changeEmailAddress = () => {\n    const {\n      emailAddress\n    } = this.state;\n\n    const errors = validate({\n      emailAddress: emailAddress\n    }, {\n      emailAddress: constraints.emailAddress\n    });\n\n    if (errors) {\n      this.setState({\n        errors: errors\n      });\n\n      return;\n    }\n\n    this.setState({\n      errors: null\n    }, () => {\n      const {\n        user\n      } = this.props;\n\n      if (emailAddress === user.email) {\n        return;\n      }\n\n      this.setState({\n        performingAction: true\n      }, () => {\n        authentication.changeEmailAddress(emailAddress).then(() => {\n          const {\n            user,\n            userData\n          } = this.props;\n\n          this.setState({\n            profileCompletion: authentication.user.getProfileCompletion({ ...user, ...userData })\n          }, () => {\n            this.hideFields(() => {\n              this.props.openSnackbar('Changed e-mail address');\n            });\n          });\n        }).catch((reason) => {\n          const code = reason.code;\n          const message = reason.message;\n\n          switch (code) {\n            default:\n              this.props.openSnackbar(message);\n              return;\n          }\n        }).finally(() => {\n          this.setState({\n            performingAction: false\n          });\n        });\n      });\n    });\n  };\n\n  verifyEmailAddress = () => {\n    this.setState({\n      performingAction: true\n    }, () => {\n      authentication.verifyEmailAddress().then(() => {\n        this.setState({\n          sentVerificationEmail: true\n        }, () => {\n          this.props.openSnackbar('Sent verification e-mail');\n        });\n      }).catch((reason) => {\n        const code = reason.code;\n        const message = reason.message;\n\n        switch (code) {\n          default:\n            this.props.openSnackbar(message);\n            return;\n        }\n      }).finally(() => {\n        this.setState({\n          performingAction: false\n        });\n      });\n    });\n  };\n\n  changeField = (fieldId) => {\n    switch (fieldId) {\n      case 'first-name':\n        this.changeFirstName();\n        return;\n\n      case 'last-name':\n        this.changeLastName();\n        return;\n\n      case 'username':\n        this.changeUsername();\n        return;\n\n      case 'email-address':\n        this.changeEmailAddress();\n        return;\n\n      default:\n        return;\n    }\n  };\n\n  handleKeyDown = (event, fieldId) => {\n    if (!event || !fieldId) {\n      return;\n    }\n\n    if (event.altKey || event.ctrlKey || event.metaKey || event.shiftKey) {\n      return;\n    }\n\n    const key = event.key;\n\n    if (!key) {\n      return;\n    }\n\n    if (key === 'Escape') {\n      this.hideFields();\n    } else if (key === 'Enter') {\n      this.changeField(fieldId);\n    }\n  };\n\n  handleAvatarChange = (event) => {\n    if (!event) {\n      return;\n    }\n\n    const files = event.target.files;\n\n    if (!files) {\n      return;\n    }\n\n    const avatar = files[0];\n\n    if (!avatar) {\n      return;\n    }\n\n    const fileTypes = [\n      'image/gif',\n      'image/jpeg',\n      'image/png',\n      'image/webp',\n      'image/svg+xml'\n    ];\n\n    if (!fileTypes.includes(avatar.type)) {\n      return;\n    }\n\n    if (avatar.size > (20 * 1024 * 1024)) {\n      return;\n    }\n\n    this.setState({\n      avatar: avatar,\n      avatarUrl: URL.createObjectURL(avatar)\n    }, () => {\n      this.props.openSnackbar(`Selected image ${avatar.name}`, 5);\n    });\n  };\n\n  handleFirstNameChange = (event) => {\n    if (!event) {\n      return;\n    }\n\n    const firstName = event.target.value;\n\n    this.setState({\n      firstName: firstName\n    });\n  };\n\n  handleLastNameChange = (event) => {\n    if (!event) {\n      return;\n    }\n\n    const lastName = event.target.value;\n\n    this.setState({\n      lastName: lastName\n    });\n  };\n\n  handleUsernameChange = (event) => {\n    if (!event) {\n      return;\n    }\n\n    const username = event.target.value;\n\n    this.setState({\n      username: username\n    });\n  };\n\n  handleEmailAddressChange = (event) => {\n    if (!event) {\n      return;\n    }\n\n    const emailAddress = event.target.value;\n\n    this.setState({\n      emailAddress: emailAddress\n    });\n  };\n\n  render() {\n    // Styling\n    const {\n      classes\n    } = this.props;\n\n    // Properties\n    const {\n      theme,\n      user,\n      userData\n    } = this.props;\n\n    // Events\n    const {\n      onDeleteAccountClick\n    } = this.props;\n\n    const {\n      profileCompletion,\n      securityRating,\n      showingField,\n      performingAction,\n      loadingAvatar,\n      avatar,\n      avatarUrl,\n      firstName,\n      lastName,\n      username,\n      emailAddress,\n      sentVerificationEmail,\n      errors\n    } = this.state;\n\n    const hasFirstName = userData && userData.firstName;\n    const hasLastName = userData && userData.lastName;\n    const hasUsername = userData && userData.username;\n\n    return (\n      <DialogContent classes={{ root: classes.dialogContent }}>\n        <Box mb={2}>\n          <Hidden xsDown>\n            <Grid alignItems=\"center\" container>\n              <Grid item xs>\n                <Box textAlign=\"center\">\n                  <Box mb={1.5}>\n                    {(avatar && avatarUrl) &&\n                      <Badge classes={{ badge: classes.badge }} badgeContent={\n                        <Tooltip title=\"Remove\">\n                          <Fab classes={{ sizeSmall: classes.small }} color=\"secondary\" disabled={performingAction} size=\"small\" onClick={this.removeAvatar}>\n                            <CloseIcon fontSize=\"small\" />\n                          </Fab>\n                        </Tooltip>\n                      }>\n                        {loadingAvatar &&\n                          <Badge classes={{ badge: classes.loadingBadge }} badgeContent={\n                            <Fade\n                              style={{ transitionDelay: '1s' }}\n                              in={loadingAvatar}\n                              unmountOnExit>\n                              <CircularProgress size={120} thickness={1.8} />\n                            </Fade>\n                          }>\n                            <Avatar className={classes.avatar} alt=\"Avatar\" src={avatarUrl} />\n                          </Badge>\n                        }\n\n                        {!loadingAvatar &&\n                          <Avatar className={classes.avatar} alt=\"Avatar\" src={avatarUrl} />\n                        }\n                      </Badge>\n                    }\n\n                    {(!avatar && !avatarUrl) &&\n                      <>\n                        {user.photoURL &&\n                          <Badge classes={{ badge: classes.badge }} badgeContent={\n                            <Tooltip title=\"Remove\">\n                              <Fab classes={{ sizeSmall: classes.small }} color=\"secondary\" disabled={performingAction} size=\"small\" onClick={this.removeAvatar}>\n                                <CloseIcon fontSize=\"small\" />\n                              </Fab>\n                            </Tooltip>\n                          }>\n                            {loadingAvatar &&\n                              <Badge classes={{ badge: classes.loadingBadge }} badgeContent={\n                                <Fade\n                                  style={{ transitionDelay: '1s' }}\n                                  in={loadingAvatar}\n                                  unmountOnExit>\n                                  <CircularProgress size={120} thickness={1.8} />\n                                </Fade>\n                              }>\n                                <Avatar className={classes.avatar} alt=\"Avatar\" src={user.photoURL} />\n                              </Badge>\n                            }\n\n                            {!loadingAvatar &&\n                              <Avatar className={classes.avatar} alt=\"Avatar\" src={user.photoURL} />\n                            }\n                          </Badge>\n                        }\n\n                        {!user.photoURL &&\n                          <>\n                            {loadingAvatar &&\n                              <Badge classes={{ badge: classes.loadingBadge }} badgeContent={\n                                <Fade\n                                  style={{ transitionDelay: '1s' }}\n                                  in={loadingAvatar}\n                                  unmountOnExit>\n                                  <CircularProgress size={120} thickness={1.8} />\n                                </Fade>\n                              }>\n                                <Avatar className={classes.avatar} alt=\"Avatar\">\n                                  <Typography className={classes.nameInitials} variant=\"h2\">\n                                    {this.getNameInitialsOrIcon()}\n                                  </Typography>\n                                </Avatar>\n                              </Badge>\n                            }\n\n                            {!loadingAvatar &&\n                              <Avatar className={classes.avatar} alt=\"Avatar\">\n                                <Typography className={classes.nameInitials} variant=\"h2\">\n                                  {this.getNameInitialsOrIcon()}\n                                </Typography>\n                              </Avatar>\n                            }\n                          </>\n                        }\n                      </>\n                    }\n                  </Box>\n\n                  {(avatar && avatarUrl) &&\n                    <Button color=\"primary\" disabled={performingAction} startIcon={<CloudUploadIcon />} variant=\"contained\" onClick={this.uploadAvatar}>\n                      Upload\n                    </Button>\n                  }\n\n                  {(!avatar && !avatarUrl) &&\n                    <>\n                      <input\n                        id=\"avatar-input\"\n                        type=\"file\"\n                        hidden\n                        accept=\"image/*\"\n\n                        onChange={this.handleAvatarChange}\n                      />\n\n                      <label htmlFor=\"avatar-input\">\n                        <Button color=\"primary\" component=\"span\" disabled={performingAction} startIcon={<PhotoIcon />} variant=\"contained\">\n                          Choose...\n                        </Button>\n                      </label>\n                    </>\n                  }\n                </Box>\n              </Grid>\n\n              <Grid item xs>\n                <Box textAlign=\"center\">\n                  <Typography variant=\"body1\">Profile completion</Typography>\n\n                  {profileCompletion === 0 &&\n                    <Typography color=\"error\" variant=\"h5\">{profileCompletion}%</Typography>\n                  }\n\n                  {profileCompletion === 100 &&\n                    <Typography color=\"primary\" variant=\"h5\">{profileCompletion}%</Typography>\n                  }\n\n                  {(profileCompletion !== 0 && profileCompletion !== 100)  &&\n                    <Typography color=\"secondary\" variant=\"h5\">{profileCompletion}%</Typography>\n                  }\n                </Box>\n              </Grid>\n\n              <Grid item xs>\n                <Box textAlign=\"center\">\n                  <Typography variant=\"body1\">Security rating</Typography>\n\n                  {securityRating === 0 &&\n                    <Typography color=\"error\" variant=\"h5\">{securityRating}%</Typography>\n                  }\n\n                  {securityRating === 100 &&\n                    <Typography color=\"primary\" variant=\"h5\">{securityRating}%</Typography>\n                  }\n\n                  {(securityRating !== 0 && securityRating !== 100) &&\n                    <Typography color=\"secondary\" variant=\"h5\">{securityRating}%</Typography>\n                  }\n                </Box>\n              </Grid>\n            </Grid>\n          </Hidden>\n\n          <Hidden smUp>\n            <Box textAlign=\"center\" mb={3}>\n              <Box mb={1.5}>\n                {(avatar && avatarUrl) &&\n                  <Badge classes={{ badge: classes.badge }} badgeContent={\n                    <Tooltip title=\"Remove\">\n                      <Fab classes={{ sizeSmall: classes.small }} color=\"secondary\" disabled={performingAction} size=\"small\" onClick={this.removeAvatar}>\n                        <CloseIcon fontSize=\"small\" />\n                      </Fab>\n                    </Tooltip>\n                  }>\n                    {loadingAvatar &&\n                      <Badge classes={{ badge: classes.loadingBadge }} badgeContent={\n                        <Fade\n                          style={{ transitionDelay: '1s' }}\n                          in={loadingAvatar}\n                          unmountOnExit>\n                          <CircularProgress size={120} thickness={1.8} />\n                        </Fade>\n                      }>\n                        <Avatar className={classes.avatar} alt=\"Avatar\" src={avatarUrl} />\n                      </Badge>\n                    }\n\n                    {!loadingAvatar &&\n                      <Avatar className={classes.avatar} alt=\"Avatar\" src={avatarUrl} />\n                    }\n                  </Badge>\n                }\n\n                {(!avatar && !avatarUrl) &&\n                  <>\n                    {user.photoURL &&\n                      <Badge classes={{ badge: classes.badge }} badgeContent={\n                        <Tooltip title=\"Remove\">\n                          <Fab classes={{ sizeSmall: classes.small }} color=\"secondary\" disabled={performingAction} size=\"small\" onClick={this.removeAvatar}>\n                            <CloseIcon fontSize=\"small\" />\n                          </Fab>\n                        </Tooltip>\n                      }>\n                        {loadingAvatar &&\n                          <Badge classes={{ badge: classes.loadingBadge }} badgeContent={\n                            <CircularProgress size={120} thickness={1.8} />\n                          }>\n                            <Avatar className={classes.avatar} alt=\"Avatar\" src={user.photoURL} />\n                          </Badge>\n                        }\n\n                        {!loadingAvatar &&\n                          <Avatar className={classes.avatar} alt=\"Avatar\" src={user.photoURL} />\n                        }\n                      </Badge>\n                    }\n\n                    {!user.photoURL &&\n                      <>\n                        {loadingAvatar &&\n                          <Badge classes={{ badge: classes.loadingBadge }} badgeContent={\n                            <Fade\n                              style={{ transitionDelay: '1s' }}\n                              in={loadingAvatar}\n                              unmountOnExit>\n                              <CircularProgress size={120} thickness={1.8} />\n                            </Fade>\n                          }>\n                            <Avatar className={classes.avatar} alt=\"Avatar\">\n                              <Typography className={classes.nameInitials} variant=\"h2\">\n                                {this.getNameInitialsOrIcon()}\n                              </Typography>\n                            </Avatar>\n                          </Badge>\n                        }\n\n                        {!loadingAvatar &&\n                          <Avatar className={classes.avatar} alt=\"Avatar\">\n                            <Typography className={classes.nameInitials} variant=\"h2\">\n                              {this.getNameInitialsOrIcon()}\n                            </Typography>\n                          </Avatar>\n                        }\n                      </>\n                    }\n                  </>\n                }\n              </Box>\n\n              {(avatar && avatarUrl) &&\n                <Button color=\"primary\" disabled={performingAction} startIcon={<CloudUploadIcon />} variant=\"contained\" onClick={this.uploadAvatar}>\n                  Upload\n                </Button>\n              }\n\n              {(!avatar && !avatarUrl) &&\n                <>\n                  <input\n                    id=\"avatar-input\"\n                    type=\"file\"\n                    hidden\n                    accept=\"image/*\"\n\n                    onChange={this.handleAvatarChange}\n                  />\n\n                  <label htmlFor=\"avatar-input\">\n                    <Button color=\"primary\" component=\"span\" disabled={performingAction} startIcon={<PhotoIcon />} variant=\"contained\">\n                      Choose...\n                    </Button>\n                  </label>\n                </>\n              }\n            </Box>\n\n            <Grid container>\n              <Grid item xs>\n                <Box textAlign=\"center\">\n                  <Typography variant=\"body1\">Profile completion</Typography>\n\n                  {profileCompletion === 0 &&\n                    <Typography color=\"error\" variant=\"h5\">{profileCompletion}%</Typography>\n                  }\n\n                  {profileCompletion === 100 &&\n                    <Typography color=\"primary\" variant=\"h5\">{profileCompletion}%</Typography>\n                  }\n\n                  {(profileCompletion !== 0 && profileCompletion !== 100)  &&\n                    <Typography color=\"secondary\" variant=\"h5\">{profileCompletion}%</Typography>\n                  }\n                </Box>\n              </Grid>\n\n              <Grid item xs>\n                <Box textAlign=\"center\">\n                  <Typography variant=\"body1\">Security rating</Typography>\n\n                  {securityRating === 0 &&\n                    <Typography color=\"error\" variant=\"h5\">{securityRating}%</Typography>\n                  }\n\n                  {securityRating === 100 &&\n                    <Typography color=\"primary\" variant=\"h5\">{securityRating}%</Typography>\n                  }\n\n                  {(securityRating !== 0 && securityRating !== 100) &&\n                    <Typography color=\"secondary\" variant=\"h5\">{securityRating}%</Typography>\n                  }\n                </Box>\n              </Grid>\n            </Grid>\n          </Hidden>\n        </Box>\n\n        <List dense={theme.dense} disablePadding>\n          <ListItem>\n            <Hidden xsDown>\n              <ListItemIcon>\n                <PersonIcon />\n              </ListItemIcon>\n            </Hidden>\n\n            {!hasFirstName &&\n              <ListItemIcon>\n                <Tooltip title=\"No first name\">\n                  <WarningIcon color=\"error\" />\n                </Tooltip>\n              </ListItemIcon>\n            }\n\n            {showingField === 'first-name' &&\n              <TextField\n                autoComplete=\"given-name\"\n                autoFocus\n                disabled={performingAction}\n                error={!!(errors && errors.firstName)}\n                fullWidth\n                helperText={(errors && errors.firstName) ? errors.firstName[0] : 'Press Enter to change your first name'}\n                label=\"First name\"\n                placeholder={hasFirstName && userData.firstName}\n                required\n                type=\"text\"\n                value={firstName}\n                variant=\"filled\"\n\n                onBlur={this.hideFields}\n                onKeyDown={(event) => this.handleKeyDown(event, 'first-name')}\n\n                onChange={this.handleFirstNameChange}\n              />\n            }\n\n            {showingField !== 'first-name' &&\n              <>\n                <ListItemText\n                  primary=\"First name\"\n                  secondary={hasFirstName ? userData.firstName : 'You dont have a first name'}\n                />\n\n                <ListItemSecondaryAction>\n                  {hasFirstName &&\n                    <Tooltip title=\"Change\">\n                      <div>\n                        <IconButton disabled={performingAction} onClick={() => this.showField('first-name')}>\n                          <EditIcon />\n                        </IconButton>\n                      </div>\n                    </Tooltip>\n                  }\n\n                  {!hasFirstName &&\n                    <Button\n                      color=\"primary\"\n                      disabled={performingAction}\n                      variant=\"contained\"\n                      onClick={() => this.showField('first-name')}>\n                      Add\n                    </Button>\n                  }\n                </ListItemSecondaryAction>\n              </>\n            }\n          </ListItem>\n\n          <ListItem>\n            <Hidden xsDown>\n              <ListItemIcon>\n                <PersonIcon />\n              </ListItemIcon>\n            </Hidden>\n\n            {!hasLastName &&\n              <ListItemIcon>\n                <Tooltip title=\"No last name\">\n                  <WarningIcon color=\"error\" />\n                </Tooltip>\n              </ListItemIcon>\n            }\n\n            {showingField === 'last-name' &&\n              <TextField\n                autoComplete=\"family-name\"\n                autoFocus\n                disabled={performingAction}\n                error={!!(errors && errors.lastName)}\n                fullWidth\n                helperText={(errors && errors.lastName) ? errors.lastName[0] : 'Press Enter to change your last name'}\n                label=\"Last name\"\n                placeholder={hasLastName && userData.lastName}\n                required\n                type=\"text\"\n                value={lastName}\n                variant=\"filled\"\n\n                onBlur={this.hideFields}\n                onKeyDown={(event) => this.handleKeyDown(event, 'last-name')}\n\n                onChange={this.handleLastNameChange}\n              />\n            }\n\n            {showingField !== 'last-name' &&\n              <>\n                <ListItemText\n                  primary=\"Last name\"\n                  secondary={hasLastName ? userData.lastName : 'You dont have a last name'}\n                />\n\n                <ListItemSecondaryAction>\n                  {hasLastName &&\n                    <Tooltip title=\"Change\">\n                      <div>\n                        <IconButton disabled={performingAction} onClick={() => this.showField('last-name')}>\n                          <EditIcon />\n                        </IconButton>\n                      </div>\n                    </Tooltip>\n                  }\n\n                  {!hasLastName &&\n                    <Button\n                      color=\"primary\"\n                      disabled={performingAction}\n                      variant=\"contained\"\n                      onClick={() => this.showField('last-name')}>\n                      Add\n                    </Button>\n                  }\n                </ListItemSecondaryAction>\n              </>\n            }\n          </ListItem>\n\n          <ListItem>\n            <Hidden xsDown>\n              <ListItemIcon>\n                <PersonOutlineIcon />\n              </ListItemIcon>\n            </Hidden>\n\n            {!hasUsername &&\n              <ListItemIcon>\n                <Tooltip title=\"No username\">\n                  <WarningIcon color=\"error\" />\n                </Tooltip>\n              </ListItemIcon>\n            }\n\n            {showingField === 'username' &&\n              <TextField\n                autoComplete=\"username\"\n                autoFocus\n                disabled={performingAction}\n                error={!!(errors && errors.username)}\n                fullWidth\n                helperText={(errors && errors.username) ? errors.username[0] : 'Press Enter to change your username'}\n                label=\"Username\"\n                placeholder={hasUsername && userData.username}\n                required\n                type=\"text\"\n                value={username}\n                variant=\"filled\"\n\n                onBlur={this.hideFields}\n                onKeyDown={(event) => this.handleKeyDown(event, 'username')}\n\n                onChange={this.handleUsernameChange}\n              />\n            }\n\n            {showingField !== 'username' &&\n              <>\n                <ListItemText\n                  primary=\"Username\"\n                  secondary={hasUsername ? userData.username : 'You dont have a username'}\n                />\n\n                <ListItemSecondaryAction>\n                  {hasUsername &&\n                    <Tooltip title=\"Change\">\n                      <div>\n                        <IconButton disabled={performingAction} onClick={() => this.showField('username')}>\n                          <EditIcon />\n                        </IconButton>\n                      </div>\n                    </Tooltip>\n                  }\n\n                  {!hasUsername &&\n                    <Button\n                      color=\"primary\"\n                      disabled={performingAction}\n                      variant=\"contained\"\n                      onClick={() => this.showField('username')}>\n                      Add\n                    </Button>\n                  }\n                </ListItemSecondaryAction>\n              </>\n            }\n          </ListItem>\n\n          <ListItem>\n            <Hidden xsDown>\n              <ListItemIcon>\n                <EmailIcon />\n              </ListItemIcon>\n            </Hidden>\n\n            {user.email &&\n              <ListItemIcon>\n                <>\n                  {user.emailVerified &&\n                    <Tooltip title=\"Verified\">\n                      <CheckIcon color=\"primary\" />\n                    </Tooltip>\n                  }\n\n                  {!user.emailVerified &&\n                    <Tooltip title=\"Not verified\">\n                      <WarningIcon color=\"error\" />\n                    </Tooltip>\n                  }\n                </>\n              </ListItemIcon>\n            }\n\n            {!user.email &&\n              <ListItemIcon>\n                <Tooltip title=\"No e-mail address\">\n                  <WarningIcon color=\"error\" />\n                </Tooltip>\n              </ListItemIcon>\n            }\n\n            {showingField === 'email-address' &&\n              <TextField\n                autoComplete=\"email\"\n                autoFocus\n                disabled={performingAction}\n                error={!!(errors && errors.emailAddress)}\n                fullWidth\n                helperText={(errors && errors.emailAddress) ? errors.emailAddress[0] : 'Press Enter to change your e-mail address'}\n                label=\"E-mail address\"\n                placeholder={user.email}\n                required\n                type=\"email\"\n                value={emailAddress}\n                variant=\"filled\"\n\n                onBlur={this.hideFields}\n                onKeyDown={(event) => this.handleKeyDown(event, 'email-address')}\n\n                onChange={this.handleEmailAddressChange}\n              />\n            }\n\n            {showingField !== 'email-address' &&\n              <>\n                <ListItemText\n                  primary=\"E-mail address\"\n                  secondary={user.email ? user.email : 'You dont have an e-mail address'}\n                />\n\n                {(user.email && !user.emailVerified) &&\n                  <Box clone mr={7}>\n                    <ListItemSecondaryAction>\n                      <Tooltip title=\"Verify\">\n                        <div>\n                          <IconButton color=\"secondary\" disabled={performingAction || sentVerificationEmail} onClick={this.verifyEmailAddress}>\n                            <CheckIcon />\n                          </IconButton>\n                        </div>\n                      </Tooltip>\n                    </ListItemSecondaryAction>\n                  </Box>\n                }\n\n                <ListItemSecondaryAction>\n                  {user.email &&\n                    <Tooltip title=\"Change\">\n                      <div>\n                        <IconButton disabled={performingAction} onClick={() => this.showField('email-address')}>\n                          <EditIcon />\n                        </IconButton>\n                      </div>\n                    </Tooltip>\n                  }\n\n                  {!user.email &&\n                    <Button\n                      color=\"primary\"\n                      disabled={performingAction}\n                      variant=\"contained\"\n                      onClick={() => this.showField('email-address')}>\n                      Add\n                    </Button>\n                  }\n                </ListItemSecondaryAction>\n              </>\n            }\n          </ListItem>\n\n          <ListItem>\n            <Hidden xsDown>\n              <ListItemIcon>\n                <AccessTimeIcon />\n              </ListItemIcon>\n            </Hidden>\n\n            <Hidden xsDown>\n              <ListItemText\n                primary=\"Signed in\"\n                secondary={moment(user.metadata.lastSignInTime).format('LLLL')}\n              />\n            </Hidden>\n\n            <Hidden smUp>\n              <ListItemText\n                primary=\"Signed in\"\n                secondary={moment(user.metadata.lastSignInTime).format('llll')}\n              />\n            </Hidden>\n          </ListItem>\n\n          <Box mt={1} mb={1}>\n            <Divider light />\n          </Box>\n\n          <ListItem>\n            <Hidden xsDown>\n              <ListItemIcon>\n                <DeleteForeverIcon />\n              </ListItemIcon>\n            </Hidden>\n\n            <ListItemText\n              primary=\"Delete account\"\n              secondary=\"Accounts cant be recovered\"\n            />\n\n            <ListItemSecondaryAction>\n              <Button color=\"secondary\" disabled={performingAction} variant=\"contained\" onClick={onDeleteAccountClick}>Delete</Button>\n            </ListItemSecondaryAction>\n          </ListItem>\n        </List>\n      </DialogContent>\n    );\n  }\n\n  componentDidMount() {\n    const {\n      user,\n      userData\n    } = this.props;\n\n    this.setState({\n      profileCompletion: authentication.user.getProfileCompletion({ ...user, ...userData }),\n      securityRating: authentication.user.getSecurityRating(user, userData)\n    });\n  }\n\n  componentWillUnmount() {\n    const {\n      avatarUrl\n    } = this.state;\n\n    if (avatarUrl) {\n      URL.revokeObjectURL(avatarUrl);\n\n      this.setState({\n        avatarUrl: ''\n      });\n    }\n  }\n}\n\nAccountTab.propTypes = {\n  // Styling\n  classes: PropTypes.object.isRequired,\n\n  // Properties\n  theme: PropTypes.object.isRequired,\n  user: PropTypes.object.isRequired,\n  userData: PropTypes.object,\n\n  // Functions\n  openSnackbar: PropTypes.func.isRequired,\n\n  // Events\n  onDeleteAccountClick: PropTypes.func.isRequired\n};\n\nexport default withStyles(styles)(AccountTab);\n","import React, { Component } from 'react';\n\nimport PropTypes from 'prop-types';\n\nimport DialogContent from '@material-ui/core/DialogContent';\n\nimport Box from '@material-ui/core/Box';\n\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\n\nimport FormControl from '@material-ui/core/FormControl';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport Select from '@material-ui/core/Select';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Divider from '@material-ui/core/Divider';\nimport Hidden from '@material-ui/core/Hidden';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Switch from '@material-ui/core/Switch';\nimport Button from '@material-ui/core/Button';\n\nimport FiberManualRecord from '@material-ui/icons/FiberManualRecord';\nimport InvertColorsIcon from '@material-ui/icons/InvertColors';\nimport FormatSizeIcon from '@material-ui/icons/FormatSize';\nimport FormatColorResetIcon from '@material-ui/icons/FormatColorReset';\n\nimport theming from '../../services/theming';\n\nclass AppearanceTab extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      performingAction: false\n    };\n  }\n\n  handlePrimaryColorChange = (event) => {\n    if (!event) {\n      return;\n    }\n\n    const primaryColor = event.target.value;\n\n    if (!primaryColor) {\n      return;\n    }\n\n    const {\n      theme\n    } = this.props;\n\n    if (!theme) {\n      return;\n    }\n\n    if (theme.primaryColor.id === primaryColor) {\n      return;\n    }\n\n    this.setState({\n      performingAction: true\n    }, () => {\n      theming.changeTheme({\n        primaryColor: primaryColor,\n        secondaryColor: theme.secondaryColor.id,\n        type: theme.type.id,\n        dense: theme.dense\n      }).then((value) => {\n        this.props.openSnackbar('Changed primary color');\n      }).catch((reason) => {\n        const code = reason.code;\n        const message = reason.message;\n\n        switch (code) {\n          default:\n            this.props.openSnackbar(message);\n            return;\n        }\n      }).finally(() => {\n        this.setState({\n          performingAction: false\n        });\n      });\n    });\n  };\n\n  handleSecondaryColorChange = (event) => {\n    if (!event) {\n      return;\n    }\n\n    const secondaryColor = event.target.value;\n\n    if (!secondaryColor) {\n      return;\n    }\n\n    const {\n      theme\n    } = this.props;\n\n    if (!theme) {\n      return;\n    }\n\n    if (theme.secondaryColor.id === secondaryColor) {\n      return;\n    }\n\n    this.setState({\n      performingAction: true\n    }, () => {\n      theming.changeTheme({\n        primaryColor: theme.primaryColor.id,\n        secondaryColor: secondaryColor,\n        type: theme.type.id,\n        dense: theme.dense\n      }).then((value) => {\n        this.props.openSnackbar('Changed secondary color');\n      }).catch((reason) => {\n        const code = reason.code;\n        const message = reason.message;\n\n        switch (code) {\n          default:\n            this.props.openSnackbar(message);\n            return;\n        }\n      }).finally(() => {\n        this.setState({\n          performingAction: false\n        });\n      });\n    });\n  };\n\n  handleTypeChange = (event) => {\n    if (!event) {\n      return;\n    }\n\n    const type = event.target.value;\n\n    if (!type) {\n      return;\n    }\n\n    const {\n      theme\n    } = this.props;\n\n    if (!theme) {\n      return;\n    }\n\n    if (theme.type.id === type) {\n      return;\n    }\n\n    this.setState({\n      performingAction: true\n    }, () => {\n      theming.changeTheme({\n        primaryColor: theme.primaryColor.id,\n        secondaryColor: theme.secondaryColor.id,\n        type: type,\n        dense: theme.dense\n      }).then((value) => {\n        this.props.openSnackbar('Changed type');\n      }).catch((reason) => {\n        const code = reason.code;\n        const message = reason.message;\n\n        switch (code) {\n          default:\n            this.props.openSnackbar(message);\n            return;\n        }\n      }).finally(() => {\n        this.setState({\n          performingAction: false\n        });\n      });\n    });\n  };\n\n  handleDenseChange = (event) => {\n    if (!event) {\n      return;\n    }\n\n    const dense = event.target.checked;\n\n    const {\n      theme\n    } = this.props;\n\n    if (!theme) {\n      return;\n    }\n\n    if (theme.dense === dense) {\n      return;\n    }\n\n    this.setState({\n      performingAction: true\n    }, () => {\n      theming.changeTheme({\n        primaryColor: theme.primaryColor.id,\n        secondaryColor: theme.secondaryColor.id,\n        type: theme.type.id,\n        dense: dense\n      }).then((value) => {\n        this.props.openSnackbar('Changed dense');\n      }).catch((reason) => {\n        const code = reason.code;\n        const message = reason.message;\n\n        switch (code) {\n          default:\n            this.props.openSnackbar(message);\n            return;\n        }\n      }).finally(() => {\n        this.setState({\n          performingAction: false\n        });\n      });\n    });\n  };\n\n  handleResetClick = () => {\n    const {\n      theme\n    } = this.props;\n\n    if (!theme) {\n      return;\n    }\n\n    if (theming.isDefaultTheme(theme)) {\n      return;\n    }\n\n    this.setState({\n      performingAction: true\n    }, () => {\n      theming.resetTheme().then((value) => {\n        this.props.openSnackbar('Reset theme');\n      }).catch((reason) => {\n        const code = reason.code;\n        const message = reason.message;\n\n        switch (code) {\n          default:\n            this.props.openSnackbar(message);\n            return;\n        }\n      }).finally(() => {\n        this.setState({\n          performingAction: false\n        });\n      });\n    });\n  };\n\n  render() {\n    // Properties\n    const {\n      theme\n    } = this.props;\n\n    if (!theme) {\n      return null;\n    }\n\n    const {\n      performingAction\n    } = this.state;\n\n    return (\n      <DialogContent>\n        <List dense={theme.dense} disablePadding>\n          <Box mb={1}>\n            <ListItem>\n              <ListItemIcon>\n                <FiberManualRecord color=\"primary\" />\n              </ListItemIcon>\n\n              <FormControl disabled={performingAction} fullWidth>\n                <InputLabel>Primary color</InputLabel>\n\n                <Hidden smUp>\n                  <Select\n                    native\n                    value={theme.primaryColor.id}\n\n                    onChange={this.handlePrimaryColorChange}>\n                    {Object.keys(theming.colors).map((color) => {\n                      color = theming.colors[color];\n\n                      return (\n                        <option key={color.id} value={color.id}>{color.name}</option>\n                      );\n                    })}\n                  </Select>\n                </Hidden>\n\n                <Hidden xsDown>\n                  <Select\n                    value={theme.primaryColor.id}\n\n                    onChange={this.handlePrimaryColorChange}>\n                    {Object.keys(theming.colors).map((color) => {\n                      color = theming.colors[color];\n\n                      return (\n                        <MenuItem key={color.id} value={color.id}>{color.name}</MenuItem>\n                      );\n                    })}\n                  </Select>\n                </Hidden>\n              </FormControl>\n            </ListItem>\n          </Box>\n\n          <Box mb={1}>\n            <ListItem>\n              <ListItemIcon>\n                <FiberManualRecord color=\"secondary\" />\n              </ListItemIcon>\n\n              <FormControl disabled={performingAction} fullWidth>\n                <InputLabel>Secondary color</InputLabel>\n\n                <Hidden smUp>\n                  <Select\n                    native\n                    value={theme.secondaryColor.id}\n\n                    onChange={this.handleSecondaryColorChange}>\n                    {Object.keys(theming.colors).map((color) => {\n                      color = theming.colors[color];\n\n                      return (\n                        <option key={color.id} value={color.id}>{color.name}</option>\n                      );\n                    })}\n                  </Select>\n                </Hidden>\n\n                <Hidden xsDown>\n                  <Select\n                    value={theme.secondaryColor.id}\n\n                    onChange={this.handleSecondaryColorChange}>\n                    {Object.keys(theming.colors).map((color) => {\n                      color = theming.colors[color];\n\n                      return (\n                        <MenuItem key={color.id} value={color.id}>{color.name}</MenuItem>\n                      );\n                    })}\n                  </Select>\n                </Hidden>\n              </FormControl>\n            </ListItem>\n          </Box>\n\n          <Box mb={1}>\n            <ListItem>\n              <ListItemIcon>\n                <InvertColorsIcon />\n              </ListItemIcon>\n\n              <FormControl disabled={performingAction} fullWidth>\n                <InputLabel>Type</InputLabel>\n\n                <Hidden smUp>\n                  <Select\n                    native\n                    value={theme.type.id}\n\n                    onChange={this.handleTypeChange}>\n                    {Object.keys(theming.types).map((type) => {\n                      type = theming.types[type];\n\n                      return (\n                        <option key={type.id} value={type.id}>{type.name}</option>\n                      );\n                    })}\n                  </Select>\n                </Hidden>\n\n                <Hidden xsDown>\n                  <Select\n                    value={theme.type.id}\n\n                    onChange={this.handleTypeChange}>\n                    {Object.keys(theming.types).map((type) => {\n                      type = theming.types[type];\n\n                      return (\n                        <MenuItem key={type.id} value={type.id}>{type.name}</MenuItem>\n                      );\n                    })}\n                  </Select>\n                </Hidden>\n              </FormControl>\n            </ListItem>\n          </Box>\n\n          <Box mt={2} mb={1}>\n            <Divider light />\n          </Box>\n\n          <ListItem>\n            <Hidden xsDown>\n              <ListItemIcon>\n                <FormatSizeIcon />\n              </ListItemIcon>\n            </Hidden>\n\n            <ListItemText\n              primary=\"Dense mode\"\n              secondary=\"Compact vertical padding\"\n            />\n\n            <ListItemSecondaryAction>\n              <Hidden xsDown>\n                <Checkbox\n                  checked={theme.dense}\n\n                  onChange={this.handleDenseChange}\n                />\n              </Hidden>\n\n              <Hidden smUp>\n                <Switch\n                  checked={theme.dense}\n\n                  onChange={this.handleDenseChange}\n                />\n              </Hidden>\n            </ListItemSecondaryAction>\n          </ListItem>\n\n          <ListItem>\n            <Hidden xsDown>\n              <ListItemIcon>\n                <FormatColorResetIcon />\n              </ListItemIcon>\n            </Hidden>\n\n            <ListItemText\n              primary=\"Reset theme\"\n              secondary={theming.isDefaultTheme(theme) ? 'No changes made' : 'Changes will be reset'}\n            />\n\n            <ListItemSecondaryAction>\n              <Button\n                color=\"secondary\"\n                disabled={theming.isDefaultTheme(theme) || performingAction}\n                variant=\"contained\"\n\n                onClick={this.handleResetClick}>\n                Reset\n              </Button>\n            </ListItemSecondaryAction>\n          </ListItem>\n        </List>\n      </DialogContent>\n    )\n  }\n}\n\nAppearanceTab.propTypes = {\n  // Properties\n  theme: PropTypes.object.isRequired,\n\n  // Functions\n  openSnackbar: PropTypes.func.isRequired\n};\n\nexport default AppearanceTab;\n","import React, { Component } from 'react'\n\nimport PropTypes from 'prop-types'\n\nimport DialogContent from '@material-ui/core/DialogContent';\n\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\n\nimport Box from '@material-ui/core/Box';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport IconButton from '@material-ui/core/IconButton';\n\nimport LinkIcon from '@material-ui/icons/Link';\nimport LinkOffIcon from '@material-ui/icons/LinkOff';\n\nimport AppleIcon from 'mdi-material-ui/Apple';\nimport FacebookBoxIcon from 'mdi-material-ui/FacebookBox';\nimport GitHubCircleIcon from 'mdi-material-ui/GithubCircle';\nimport GoogleIcon from 'mdi-material-ui/Google';\nimport MicrosoftIcon from 'mdi-material-ui/Microsoft';\nimport TwitterIcon from 'mdi-material-ui/Twitter';\nimport YahooIcon from 'mdi-material-ui/Yahoo';\n\nimport authentication from '../../services/authentication';\n\nclass LinksTab extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      performingAction: false\n    };\n  }\n\n\n  linkAuthProvider = (authProvider) => {\n    this.setState({\n      performingAction: true\n    }, () => {\n      authentication.linkAuthProvider(authProvider.providerId).then((value) => {\n        this.props.openSnackbar(`${authProvider.name} linked`, 5);\n      }).catch((reason) => {\n        const code = reason.code;\n        const message = reason.message;\n\n        switch (code) {\n          default:\n            this.props.openSnackbar(message);\n            return;\n        }\n      }).finally(() => {\n        this.setState({\n          performingAction: false\n        });\n      });\n    });\n  };\n\n  unlinkAuthProvider = (authProvider) => {\n    this.setState({\n      performingAction: true\n    }, () => {\n      authentication.unlinkAuthProvider(authProvider.providerId).then((value) => {\n        this.props.openSnackbar(`${authProvider.name} unlinked`, 4);\n      }).catch((reason) => {\n        const code = reason.code;\n        const message = reason.message;\n\n        switch (code) {\n          default:\n            this.props.openSnackbar(message);\n            return;\n        }\n      }).finally(() => {\n        this.setState({\n          performingAction: false\n        });\n      });\n    });\n  };\n\n  render() {\n    // Properties\n    const {\n      theme\n    } = this.props;\n\n    const {\n      performingAction\n    } = this.state;\n\n    const authProviders = [\n      {\n        providerId: 'apple.com',\n        color: '#000000',\n        icon: <AppleIcon />,\n        name: 'Apple'\n      },\n      {\n        providerId: 'facebook.com',\n        color: '#3c5a99',\n        icon: <FacebookBoxIcon />,\n        name: 'Facebook'\n      },\n      {\n        providerId: 'github.com',\n        color: '#24292e',\n        icon: <GitHubCircleIcon />,\n        name: 'GitHub'\n      },\n      {\n        providerId: 'google.com',\n        color: '#4285f4',\n        icon: <GoogleIcon />,\n        name: 'Google'\n      },\n      {\n        providerId: 'microsoft.com',\n        color: '#f65314',\n        icon: <MicrosoftIcon />,\n        name: 'Microsoft'\n      },\n      {\n        providerId: 'twitter.com',\n        color: '#1da1f2',\n        icon: <TwitterIcon />,\n        name: 'Twitter'\n      },\n      {\n        providerId: 'yahoo.com',\n        color: '#410093',\n        icon: <YahooIcon />,\n        name: 'Yahoo'\n      }\n    ];\n\n    return (\n      <DialogContent>\n        <List dense={theme.dense} disablePadding>\n          {authProviders.map((authProvider) => {\n            const authProviderData = authentication.authProviderData(authProvider.providerId);\n            let identifier = null;\n\n            if (authProviderData) {\n              const displayName = authProviderData.displayName;\n              const emailAddress = authProviderData.email;\n              const phoneNumber = authProviderData.phoneNumber;\n\n              identifier = displayName || emailAddress || phoneNumber;\n            }\n\n            return (\n              <ListItem key={authProvider.providerId}>\n                <ListItemIcon>\n                  <Box color={theme.type.id === 'light' ? authProvider.color : null}>\n                    {authProvider.icon}\n                  </Box>\n                </ListItemIcon>\n\n                {authProviderData &&\n                  <ListItemText\n                    primary={authProvider.name}\n                    secondary={identifier}\n                  />\n                }\n\n                {!authProviderData &&\n                  <ListItemText\n                    primary={authProvider.name}\n                  />\n                }\n\n                <ListItemSecondaryAction>\n                  {authProviderData &&\n                    <Tooltip title=\"Unlink\">\n                      <div>\n                        <IconButton disabled={performingAction} onClick={() => this.unlinkAuthProvider(authProvider)}>\n                          <LinkOffIcon />\n                        </IconButton>\n                      </div>\n                    </Tooltip>\n                  }\n\n                  {!authProviderData &&\n                    <Tooltip title=\"Link\">\n                      <div>\n                        <IconButton disabled={performingAction} onClick={() => this.linkAuthProvider(authProvider)}>\n                          <LinkIcon />\n                        </IconButton>\n                      </div>\n                    </Tooltip>\n                  }\n                </ListItemSecondaryAction>\n              </ListItem>\n            );\n          })}\n        </List>\n      </DialogContent>\n    )\n  }\n}\n\nLinksTab.propTypes = {\n  // Properties\n  theme: PropTypes.object.isRequired,\n\n  // Functions\n  openSnackbar: PropTypes.func.isRequired\n};\n\nexport default LinksTab;\n","import React, { Component } from 'react'\n\nimport PropTypes from 'prop-types'\n\nimport validate from 'validate.js';\nimport moment from 'moment';\n\nimport DialogContent from '@material-ui/core/DialogContent';\n\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\n\nimport Hidden from '@material-ui/core/Hidden';\nimport TextField from '@material-ui/core/TextField';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport IconButton from '@material-ui/core/IconButton';\n\nimport LockIcon from '@material-ui/icons/Lock';\nimport EditIcon from '@material-ui/icons/Edit';\n\nimport constraints from '../../constraints';\nimport authentication from '../../services/authentication';\n\nconst initialState = {\n  showingField: '',\n  password: '',\n  passwordConfirmation: '',\n  performingAction: false,\n  errors: null\n};\n\nclass SecurityTab extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = initialState;\n  }\n\n  showField = (fieldId) => {\n    if (!fieldId) {\n      return;\n    }\n\n    this.setState({\n      showingField: fieldId\n    });\n  };\n\n  hideFields = (callback) => {\n    this.setState({\n      showingField: '',\n      password: '',\n      passwordConfirmation: '',\n      errors: null\n    }, () => {\n      if (callback && typeof callback === 'function') {\n        callback();\n      }\n    });\n  };\n\n  changeField = (fieldId) => {\n    switch (fieldId) {\n      case 'password':\n        const {\n          password\n        } = this.state;\n\n        const errors = validate({\n          password: password\n        }, {\n          password: constraints.password\n        });\n\n        if (errors) {\n          this.setState({\n            errors: errors\n          });\n\n          return;\n        }\n\n        this.setState({\n          errors: null\n        }, () => {\n          this.showField('password-confirmation');\n        });\n        return;\n\n      case 'password-confirmation':\n        this.changePassword();\n        return;\n\n      default:\n        return;\n    }\n  };\n\n  changePassword = () => {\n    const {\n      password,\n      passwordConfirmation\n    } = this.state;\n\n    const errors = validate({\n      password: password,\n      passwordConfirmation: passwordConfirmation\n    }, {\n      password: constraints.password,\n      passwordConfirmation: constraints.passwordConfirmation\n    });\n\n    if (errors) {\n      this.setState({\n        errors: errors\n      });\n\n      return;\n    }\n\n    this.setState({\n      errors: null\n    }, () => {\n      this.setState({\n        performingAction: true\n      }, () => {\n        authentication.changePassword(password).then(() => {\n          this.hideFields(() => {\n            this.props.openSnackbar('Changed password');\n          });\n        }).catch((reason) => {\n          const code = reason.code;\n          const message = reason.message;\n\n          switch (code) {\n            default:\n              this.props.openSnackbar(message);\n              return;\n          }\n        }).finally(() => {\n          this.setState({\n            performingAction: false\n          });\n        });\n      });\n    });\n  };\n\n  handleKeyDown = (event, fieldId) => {\n    if (!event || !fieldId) {\n      return;\n    }\n\n    if (event.altKey || event.ctrlKey || event.metaKey || event.shiftKey) {\n      return;\n    }\n\n    const key = event.key;\n\n    if (!key) {\n      return;\n    }\n\n    if (key === 'Escape') {\n      this.hideFields();\n    } else if (key === 'Enter') {\n      this.changeField(fieldId);\n    }\n  };\n\n  handlePasswordChange = (event) => {\n    if (!event) {\n      return;\n    }\n\n    const password = event.target.value;\n\n    this.setState({\n      password: password\n    });\n  };\n\n  handlePasswordConfirmationChange = (event) => {\n    if (!event) {\n      return;\n    }\n\n    const passwordConfirmation = event.target.value;\n\n    this.setState({\n      passwordConfirmation: passwordConfirmation\n    });\n  };\n\n  render() {\n    // Properties\n    const {\n      theme,\n      userData\n    } = this.props;\n\n    const {\n      showingField,\n      password,\n      passwordConfirmation,\n      performingAction,\n      errors\n    } = this.state;\n\n    const hasChangedPassword = userData && userData.lastPasswordChange;\n\n    return (\n      <DialogContent>\n        <List dense={theme.dense} disablePadding>\n          <ListItem>\n            <Hidden xsDown>\n              <ListItemIcon>\n                <LockIcon />\n              </ListItemIcon>\n            </Hidden>\n\n            {showingField === 'password' &&\n              <TextField\n                autoComplete=\"new-password\"\n                autoFocus\n                disabled={performingAction}\n                error={!!(errors && errors.password)}\n                fullWidth\n                helperText={(errors && errors.password) ? errors.password[0] : 'Press Enter to change your password'}\n                label=\"Password\"\n                required\n                type=\"password\"\n                value={password}\n                variant=\"filled\"\n\n                onBlur={this.hideFields}\n                onKeyDown={(event) => this.handleKeyDown(event, 'password')}\n\n                onChange={this.handlePasswordChange}\n              />\n            }\n\n            {showingField === 'password-confirmation' &&\n              <TextField\n                autoComplete=\"new-password\"\n                autoFocus\n                disabled={performingAction}\n                error={!!(errors && errors.passwordConfirmation)}\n                fullWidth\n                helperText={(errors && errors.passwordConfirmation) ? errors.passwordConfirmation[0] : 'Press Enter to change your password'}\n                label=\"Password confirmation\"\n                required\n                type=\"password\"\n                value={passwordConfirmation}\n                variant=\"filled\"\n\n                onBlur={this.hideFields}\n                onKeyDown={(event) => this.handleKeyDown(event, 'password-confirmation')}\n\n                onChange={this.handlePasswordConfirmationChange}\n              />\n            }\n\n            {(showingField !== 'password' && showingField !== 'password-confirmation') &&\n              <>\n                <Hidden xsDown>\n                  <ListItemText\n                    primary=\"Password\"\n                    secondary={hasChangedPassword ? `Last changed ${moment(userData.lastPasswordChange.toDate()).format('LL')}` : 'Never changed'}\n                  />\n                </Hidden>\n\n                <Hidden smUp>\n                  <ListItemText\n                    primary=\"Password\"\n                    secondary={hasChangedPassword ? `Last changed ${moment(userData.lastPasswordChange.toDate()).format('ll')}` : 'Never changed'}\n                  />\n                </Hidden>\n\n                <ListItemSecondaryAction>\n                  <Tooltip title=\"Change\">\n                    <div>\n                      <IconButton disabled={performingAction} onClick={() => this.showField('password')}>\n                        <EditIcon />\n                      </IconButton>\n                    </div>\n                  </Tooltip>\n                </ListItemSecondaryAction>\n              </>\n            }\n          </ListItem>\n        </List>\n      </DialogContent>\n    )\n  }\n}\n\nSecurityTab.propTypes = {\n  // Properties\n  theme: PropTypes.object.isRequired,\n  userData: PropTypes.object,\n\n  // Functions\n  openSnackbar: PropTypes.func.isRequired\n};\n\nexport default SecurityTab;\n","import React, { Component } from 'react';\n\nimport PropTypes from 'prop-types';\n\nimport { withStyles } from '@material-ui/core/styles';\n\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogTitle from '@material-ui/core/DialogTitle';\n\nimport Typography from '@material-ui/core/Typography';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport IconButton from '@material-ui/core/IconButton';\n\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\n\nimport Hidden from '@material-ui/core/Hidden';\n\nimport CloseIcon from '@material-ui/icons/Close';\nimport AccountCircleIcon from '@material-ui/icons/AccountCircle';\nimport PaletteIcon from '@material-ui/icons/Palette';\nimport LinkIcon from '@material-ui/icons/Link';\nimport SecurityIcon from '@material-ui/icons/Security';\n\nimport SwipeableViews from 'react-swipeable-views';\n\nimport AccountTab from '../AccountTab';\nimport AppearanceTab from '../AppearanceTab';\nimport LinksTab from '../LinksTab';\nimport SecurityTab from '../SecurityTab';\n\nconst styles = (theme) => ({\n  closeButton: {\n    position: 'absolute',\n    right: theme.spacing(1),\n    top: theme.spacing(1)\n  },\n\n  tabs: {\n    display: 'initial'\n  }\n});\n\nconst tabs = [\n  {\n    key: 'account',\n    icon: <AccountCircleIcon />,\n    label: 'Account'\n  },\n\n  {\n    key: 'appearance',\n    icon: <PaletteIcon />,\n    label: 'Appearance'\n  },\n\n  {\n    key: 'links',\n    icon: <LinkIcon />,\n    label: 'Links'\n  },\n\n  {\n    key: 'security',\n    icon: <SecurityIcon />,\n    label: 'Security'\n  }\n];\n\nconst initialState = {\n  selectedTab: 0\n};\n\nclass SettingsDialog extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = initialState;\n  }\n\n  handleExited = () => {\n    this.setState(initialState);\n  };\n\n  handleTabChange = (event, value) => {\n    this.setState({\n      selectedTab: value\n    });\n  };\n\n  handleIndexChange = (index) => {\n    this.setState({\n      selectedTab: index\n    });\n  };\n\n  render() {\n    // Styling\n    const {\n      classes\n    } = this.props;\n\n    // Dialog Properties\n    const {\n      dialogProps\n    } = this.props;\n\n    // Custom Properties\n    const {\n      user,\n      userData,\n      theme\n    } = this.props;\n\n    // Custom Functions\n    const {\n      openSnackbar\n    } = this.props;\n\n    // Custom Functions\n    const {\n      onDeleteAccountClick\n    } = this.props;\n\n    const {\n      selectedTab\n    } = this.state;\n\n    return (\n      <Dialog {...dialogProps} onExited={this.handleExited}>\n        <DialogTitle disableTypography>\n          <Typography variant=\"h6\">\n            Settings\n          </Typography>\n\n          <Tooltip title=\"Close\">\n            <IconButton className={classes.closeButton} onClick={dialogProps.onClose}>\n              <CloseIcon />\n            </IconButton>\n          </Tooltip>\n        </DialogTitle>\n\n        <Hidden xsDown>\n          <Tabs\n            classes={{ root: classes.tabs }}\n            style={{ overflow: 'initial', minHeight: 'initial' }}\n\n            indicatorColor=\"primary\"\n            textColor=\"primary\"\n            value={selectedTab}\n            variant=\"fullWidth\"\n            onChange={this.handleTabChange}>\n            {tabs.map((tab) => {\n              return (\n                <Tab key={tab.key} icon={tab.icon} label={tab.label} />\n              );\n            })}\n          </Tabs>\n        </Hidden>\n\n        <Hidden smUp>\n          <Tabs\n            classes={{ root: classes.tabs }}\n            style={{ overflow: 'initial', minHeight: 'initial' }}\n\n            indicatorColor=\"primary\"\n            textColor=\"primary\"\n            value={selectedTab}\n            variant=\"fullWidth\"\n            onChange={this.handleTabChange}>\n            {tabs.map((tab) => {\n              return (\n                <Tab key={tab.key} icon={tab.icon} label={tab.label} />\n              );\n            })}\n          </Tabs>\n        </Hidden>\n\n        <SwipeableViews index={selectedTab} onChangeIndex={this.handleIndexChange}>\n          <AccountTab\n            theme={theme}\n\n            user={user}\n            userData={userData}\n\n            openSnackbar={openSnackbar}\n\n            onDeleteAccountClick={onDeleteAccountClick}\n          />\n\n          <AppearanceTab\n            theme={theme}\n\n            openSnackbar={openSnackbar}\n          />\n\n          <LinksTab\n            theme={theme}\n\n            openSnackbar={openSnackbar}\n          />\n\n          <SecurityTab\n            theme={theme}\n\n            user={user}\n            userData={userData}\n\n            openSnackbar={openSnackbar}\n          />\n        </SwipeableViews>\n      </Dialog>\n    );\n  }\n}\n\nSettingsDialog.propTypes = {\n  // Styling\n  classes: PropTypes.object.isRequired,\n\n  // Dialog Properties\n  dialogProps: PropTypes.object.isRequired,\n\n  // Custom Properties\n  theme: PropTypes.object.isRequired,\n  user: PropTypes.object.isRequired,\n  userData: PropTypes.object,\n\n  // Custom Functions\n  openSnackbar: PropTypes.func.isRequired,\n\n  // Custom Events\n  onDeleteAccountClick: PropTypes.func.isRequired\n};\n\nexport default withStyles(styles)(SettingsDialog);\n","import React, { Component } from 'react';\n\nimport PropTypes from 'prop-types';\n\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogActions from '@material-ui/core/DialogActions';\n\nimport Hidden from '@material-ui/core/Hidden';\nimport Box from '@material-ui/core/Box';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\n\nconst initialState = {\n  username: ''\n};\n\nclass DeleteAccountDialog extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = initialState;\n  }\n\n  handleKeyPress = (event) => {\n    const {\n      userData\n    } = this.props;\n\n    if (userData && userData.username) {\n      const {\n        username\n      } = this.state;\n\n      if (!username) {\n        return;\n      }\n\n      if (username !== userData.username) {\n        return;\n      }\n    }\n\n    const key = event.key;\n\n    if (event.altKey || event.ctrlKey || event.metaKey || event.shiftKey) {\n      return;\n    }\n\n    if (key === 'Enter') {\n      this.props.deleteAccount();\n    }\n  };\n\n  handleExited = () => {\n    this.setState(initialState);\n  };\n\n  handleUsernameChange = (event) => {\n    const username = event.target.value;\n\n    this.setState({\n      username: username\n    });\n  };\n\n  render() {\n    // Dialog Properties\n    const {\n      dialogProps\n    } = this.props;\n\n    // Custom Properties\n    const {\n      performingAction,\n      userData\n    } = this.props;\n\n    // Custom Functions\n    const {\n      deleteAccount\n    } = this.props;\n\n    const {\n      username\n    } = this.state;\n\n    const hasUsername = userData && userData.username;\n\n    return (\n      <Dialog {...dialogProps} onKeyPress={this.handleKeyPress} onExited={this.handleExited}>\n        <DialogTitle>\n          Delete account?\n        </DialogTitle>\n\n        <DialogContent>\n          <Box mb={hasUsername ? 2 : 0}>\n            <DialogContentText>\n              Deleted accounts cant be recovered.\n              All data associated with your account will be deleted.\n            </DialogContentText>\n\n            {hasUsername &&\n              <DialogContentText>\n                Type your username and <Hidden xsDown>click</Hidden><Hidden smUp>tap</Hidden> Delete to delete your account.\n                This action is irreversible.\n              </DialogContentText>\n            }\n          </Box>\n\n          {hasUsername &&\n            <TextField\n              autoComplete=\"username\"\n              autoFocus\n              color=\"secondary\"\n              disabled={performingAction}\n              fullWidth\n              label=\"Username\"\n              placeholder={userData.username}\n              required\n              type=\"text\"\n              value={username}\n              variant=\"outlined\"\n\n              onChange={this.handleUsernameChange}\n            />\n          }\n        </DialogContent>\n\n        <DialogActions>\n          <Button color=\"secondary\" disabled={performingAction} onClick={dialogProps.onClose}>Cancel</Button>\n          <Button color=\"secondary\" disabled={performingAction || (hasUsername && username !== userData.username)} variant=\"contained\" onClick={deleteAccount}>Delete</Button>\n        </DialogActions>\n      </Dialog>\n    );\n  }\n}\n\nDeleteAccountDialog.propTypes = {\n  // Dialog Properties\n  dialogProps: PropTypes.object.isRequired,\n\n  // Custom Properties\n  performingAction: PropTypes.bool.isRequired,\n  userData: PropTypes.object,\n\n  // Custom Functions\n  deleteAccount: PropTypes.func.isRequired\n};\n\nexport default DeleteAccountDialog;\n","import React, { Component } from 'react';\n\nimport PropTypes from 'prop-types';\n\nimport { withStyles } from '@material-ui/core/styles';\n\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogActions from '@material-ui/core/DialogActions';\n\nconst styles = (theme) => ({\n  noTitlePadding: {\n    paddingTop: theme.spacing(3)\n  }\n});\n\nclass AlertDialog extends Component {\n  render() {\n    // Styling\n    const {\n      classes\n    } = this.props;\n\n    // Dialog Properties\n    const {\n      dialogProps\n    } = this.props;\n\n    // Custom Properties\n    const {\n      title,\n      contentText,\n      dismissiveAction,\n      confirmingAction,\n      acknowledgementAction\n    } = this.props;\n\n    if ((dismissiveAction || confirmingAction) && acknowledgementAction) {\n      console.error(\n        'Dialogs should contain a maximum of two actions. ' +\n        'If a single action is provided, it must be an acknowledgement action. ' +\n        'If two actions are provided, one must be a confirming action, and the other a dismissing action. ' +\n        'Providing a third action such as Learn more is not recommended as it navigates the user away from the dialog, leaving the dialog task unfinished. ' +\n        'https://material.io/design/components/dialogs.html#actions'\n      );\n\n      return null;\n    }\n\n    return (\n      <Dialog {...dialogProps}>\n        {title &&\n          <DialogTitle>{title}</DialogTitle>\n        }\n\n        <DialogContent className={title ? null : classes.noTitlePadding}>\n          <DialogContentText>\n            {contentText}\n          </DialogContentText>\n        </DialogContent>\n\n        {(dismissiveAction || confirmingAction || acknowledgementAction) &&\n          <DialogActions>\n            {dismissiveAction}\n            {confirmingAction}\n            {acknowledgementAction}\n          </DialogActions>\n        }\n      </Dialog>\n    );\n  }\n}\n\nAlertDialog.propTypes = {\n  // Styling\n  classes: PropTypes.object.isRequired,\n\n  // Dialog Properties\n  dialogProps: PropTypes.object.isRequired,\n\n  // Custom Properties\n  title: PropTypes.string,\n  contentText: PropTypes.string.isRequired,\n  dismissiveAction: PropTypes.element,\n  confirmingAction: PropTypes.element,\n  acknowledgementAction: PropTypes.element,\n};\n\nexport default withStyles(styles)(AlertDialog);\n","import React, { Component } from 'react';\n\nimport PropTypes from 'prop-types';\n\nimport Hidden from '@material-ui/core/Hidden';\n\nimport AboutDialog from '../AboutDialog';\nimport SignUpDialog from '../SignUpDialog';\nimport SignInDialog from '../SignInDialog';\nimport SettingsDialog from '../SettingsDialog';\nimport DeleteAccountDialog from '../DeleteAccountDialog';\nimport AlertDialog from '../AlertDialog';\n\nclass DialogHost extends Component {\n  render() {\n    // Properties\n    const {\n      user,\n      dialogs\n    } = this.props;\n\n    const aboutDialog = dialogs.aboutDialog;\n    const signUpDialog = dialogs.signUpDialog;\n    const signInDialog = dialogs.signInDialog;\n    const settingsDialog = dialogs.settingsDialog;\n    const deleteAccountDialog = dialogs.deleteAccountDialog;\n    const signOutDialog = dialogs.signOutDialog;\n\n    return (\n      <>\n        <AboutDialog\n          dialogProps={aboutDialog.dialogProps}\n\n          {...aboutDialog.props}\n        />\n\n        {user &&\n          <>\n            <AlertDialog\n              dialogProps={signOutDialog.dialogProps}\n\n              {...signOutDialog.props}\n            />\n          </>\n        }\n\n        <Hidden xsDown>\n          {user &&\n            <>\n              <DeleteAccountDialog\n                dialogProps={deleteAccountDialog.dialogProps}\n\n                {...deleteAccountDialog.props}\n              />\n            </>\n          }\n\n          {!user &&\n            <>\n              <SignUpDialog\n                dialogProps={signUpDialog.dialogProps}\n\n                {...signUpDialog.props}\n              />\n\n              <SignInDialog\n                dialogProps={signInDialog.dialogProps}\n\n                {...signInDialog.props}\n              />\n            </>\n          }\n        </Hidden>\n\n        <Hidden smDown>\n          {user &&\n            <>\n              <SettingsDialog\n                dialogProps={settingsDialog.dialogProps}\n\n                {...settingsDialog.props}\n              />\n            </>\n          }\n        </Hidden>\n\n        <Hidden smUp>\n          {user &&\n            <>\n              <DeleteAccountDialog\n                dialogProps={{\n                  fullScreen: true,\n\n                  ...deleteAccountDialog.dialogProps\n                }}\n\n                {...deleteAccountDialog.props}\n              />\n            </>\n          }\n\n          {!user &&\n            <>\n              <SignUpDialog\n                dialogProps={{\n                  fullScreen: true,\n\n                  ...signUpDialog.dialogProps\n                }}\n\n                {...signUpDialog.props}\n              />\n\n              <SignInDialog\n                dialogProps={{\n                  fullScreen: true,\n\n                  ...signInDialog.dialogProps\n                }}\n\n                {...signInDialog.props}\n              />\n            </>\n          }\n        </Hidden>\n\n        <Hidden mdUp>\n          {user &&\n            <>\n              <SettingsDialog\n                dialogProps={{\n                  fullScreen: true,\n\n                  ...settingsDialog.dialogProps\n                }}\n\n                {...settingsDialog.props}\n              />\n            </>\n          }\n        </Hidden>\n      </>\n    );\n  }\n}\n\nDialogHost.propTypes = {\n  // Properties\n  user: PropTypes.object,\n  dialogs: PropTypes.object.isRequired\n};\n\nexport default DialogHost;\n","import React, { Component } from 'react';\n\nimport readingTime from 'reading-time';\n\nimport { MuiThemeProvider } from '@material-ui/core/styles';\n\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Button from '@material-ui/core/Button';\nimport Snackbar from '@material-ui/core/Snackbar';\n\nimport { auth, firestore } from '../../firebase';\nimport authentication from '../../services/authentication';\nimport theming from '../../services/theming';\n\nimport ErrorBoundary from '../ErrorBoundary';\nimport LaunchScreen from '../LaunchScreen';\nimport Bar from '../Bar';\nimport Router from '../Router';\nimport DialogHost from '../DialogHost';\n\nconst initialState = {\n  ready: false,\n  performingAction: false,\n  theme: theming.defaultTheme,\n  user: null,\n  userData: null,\n  isAdmin: false,\n\n  aboutDialog: {\n    open: false\n  },\n\n  signUpDialog: {\n    open: false\n  },\n\n  signInDialog: {\n    open: false\n  },\n\n  settingsDialog: {\n    open: false\n  },\n\n  deleteAccountDialog: {\n    open: false\n  },\n\n  signOutDialog: {\n    open: false\n  },\n\n  snackbar: {\n    autoHideDuration: 0,\n    message: '',\n    open: false\n  }\n};\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = initialState;\n  }\n\n  resetState = (callback) => {\n    this.setState({\n      ready: true,\n      theme: theming.defaultTheme,\n      user: null,\n      userData: null,\n      isAdmin: false\n    }, callback);\n  };\n\n  setTheme = (theme, callback) => {\n    if (!theme) {\n      this.setState({\n        theme: theming.defaultTheme\n      }, callback);\n\n      return;\n    }\n\n    this.setState({\n      theme: theming.createTheme(theme)\n    }, callback);\n  };\n\n  openDialog = (dialogId, callback) => {\n    const dialog = this.state[dialogId];\n\n    if (!dialog || dialog.open === undefined || null) {\n      return;\n    }\n\n    dialog.open = true;\n\n    this.setState({ dialog }, callback);\n  };\n\n  closeDialog = (dialogId, callback) => {\n    const dialog = this.state[dialogId];\n\n    if (!dialog || dialog.open === undefined || null) {\n      return;\n    }\n\n    dialog.open = false;\n\n    this.setState({ dialog }, callback);\n  };\n\n  closeAllDialogs = (callback) => {\n    this.setState({\n      aboutDialog: {\n        open: false\n      },\n\n      signUpDialog: {\n        open: false\n      },\n\n      signInDialog: {\n        open: false\n      },\n\n      settingsDialog: {\n        open: false\n      },\n\n      deleteAccountDialog: {\n        open: false\n      },\n\n      signOutDialog: {\n        open: false\n      }\n    }, callback);\n  };\n\n  deleteAccount = () => {\n    this.setState({\n      performingAction: true\n    }, () => {\n      authentication.deleteAccount().then(() => {\n        this.closeAllDialogs(() => {\n          this.openSnackbar('Deleted account');\n        });\n      }).catch((reason) => {\n        const code = reason.code;\n        const message = reason.message;\n\n        switch (code) {\n          default:\n            this.openSnackbar(message);\n            return;\n        }\n      }).finally(() => {\n        this.setState({\n          performingAction: false\n        });\n      });\n    });\n  };\n\n  signOut = () => {\n    this.setState({\n      performingAction: true\n    }, () => {\n      authentication.signOut().then(() => {\n        this.closeAllDialogs(() => {\n          this.openSnackbar('Signed out');\n        });\n      }).catch((reason) => {\n        const code = reason.code;\n        const message = reason.message;\n\n        switch (code) {\n          default:\n            this.openSnackbar(message);\n            return;\n        }\n      }).finally(() => {\n        this.setState({\n          performingAction: false\n        });\n      });\n    });\n  };\n\n  openSnackbar = (message, autoHideDuration = 2, callback) => {\n    this.setState({\n      snackbar: {\n        autoHideDuration: readingTime(message).time * autoHideDuration,\n        message,\n        open: true\n      }\n    }, () => {\n      if (callback && typeof callback === 'function') {\n        callback();\n      }\n    });\n  };\n\n  closeSnackbar = (clearMessage = false) => {\n    const {\n      snackbar\n    } = this.state;\n\n    this.setState({\n      snackbar: {\n        message: clearMessage ? '' : snackbar.message,\n        open: false\n      }\n    });\n  };\n\n  render() {\n    const {\n      ready,\n      performingAction,\n      theme,\n      user,\n      userData\n    } = this.state;\n\n    const {\n      aboutDialog,\n      signUpDialog,\n      signInDialog,\n      settingsDialog,\n      deleteAccountDialog,\n      signOutDialog\n    } = this.state;\n\n    const {\n      snackbar\n    } = this.state;\n\n    return (\n      <MuiThemeProvider theme={theme}>\n        <CssBaseline />\n\n        <ErrorBoundary>\n          {!ready &&\n            <LaunchScreen />\n          }\n\n          {ready &&\n            <>\n              <Bar\n                performingAction={performingAction}\n                theme={theme}\n                user={user}\n                userData={userData}\n\n                onSignUpClick={() => this.openDialog('signUpDialog')}\n                onSignInClick={() => this.openDialog('signInDialog')}\n\n                onAboutClick={() => this.openDialog('aboutDialog')}\n                onSettingsClick={() => this.openDialog('settingsDialog')}\n                onSignOutClick={() => this.openDialog('signOutDialog')}\n              />\n\n              <Router\n                user={user}\n\n                openSnackbar={this.openSnackbar}\n              />\n\n              <DialogHost\n                user={user}\n                dialogs={\n                  {\n                    aboutDialog: {\n                      dialogProps: {\n                        open: aboutDialog.open,\n\n                        onClose: () => this.closeDialog('aboutDialog')\n                      },\n\n                      props: {\n                        theme: theme,\n                        user: user\n                      }\n                    },\n\n                    signUpDialog: {\n                      dialogProps: {\n                        open: signUpDialog.open,\n\n                        onClose: (callback) => {\n                          this.closeDialog('signUpDialog');\n\n                          if (callback && typeof callback === 'function') {\n                            callback();\n                          }\n                        }\n                      },\n\n                      props: {\n                        performingAction: performingAction,\n\n                        openSnackbar: this.openSnackbar\n                      }\n                    },\n\n                    signInDialog: {\n                      dialogProps: {\n                        open: signInDialog.open,\n\n                        onClose: (callback) => {\n                          this.closeDialog('signInDialog');\n\n                          if (callback && typeof callback === 'function') {\n                            callback();\n                          }\n                        }\n                      },\n\n                      props: {\n                        performingAction: performingAction,\n\n                        openSnackbar: this.openSnackbar\n                      }\n                    },\n\n                    settingsDialog: {\n                      dialogProps: {\n                        open: settingsDialog.open,\n\n                        onClose: () => this.closeDialog('settingsDialog')\n                      },\n\n                      props: {\n                        theme: theme,\n                        user: user,\n                        userData: userData,\n\n                        openSnackbar: this.openSnackbar,\n\n                        onDeleteAccountClick: () => this.openDialog('deleteAccountDialog')\n                      }\n                    },\n\n                    deleteAccountDialog: {\n                      dialogProps: {\n                        open: deleteAccountDialog.open,\n\n                        onClose: () => this.closeDialog('deleteAccountDialog')\n                      },\n\n                      props: {\n                        performingAction: performingAction,\n                        userData: userData,\n\n                        deleteAccount: this.deleteAccount\n                      }\n                    },\n\n                    signOutDialog: {\n                      dialogProps: {\n                        open: signOutDialog.open,\n\n                        onClose: () => this.closeDialog('signOutDialog')\n                      },\n\n                      props: {\n                        title: 'Sign out?',\n                        contentText: 'While signed out you are unable to manage your profile and conduct other activities that require you to be signed in.',\n                        dismissiveAction: <Button color=\"primary\" onClick={() => this.closeDialog('signOutDialog')}>Cancel</Button>,\n                        confirmingAction: <Button color=\"primary\" disabled={performingAction} variant=\"contained\" onClick={this.signOut}>Sign Out</Button>\n                      }\n                    }\n                  }\n                }\n              />\n\n              <Snackbar\n                autoHideDuration={snackbar.autoHideDuration}\n                message={snackbar.message}\n                open={snackbar.open}\n\n                onClose={this.closeSnackbar}\n              />\n            </>\n          }\n        </ErrorBoundary>\n      </MuiThemeProvider>\n    );\n  }\n\n  componentDidMount() {\n    this.onAuthStateChangedObserver = auth.onAuthStateChanged((user) => {\n      // The user is not signed in or doesnt have a user ID.\n      if (!user || !user.uid) {\n        if (this.userDocumentSnapshotListener) {\n          this.userDocumentSnapshotListener();\n        }\n\n        this.resetState();\n\n        return;\n      }\n\n      // The user is signed in, begin retrieval of external user data.\n      this.userDocumentSnapshotListener = firestore.collection('users').doc(user.uid).onSnapshot((snapshot) => {\n        const data = snapshot.data();\n\n        // The user doesnt have a data point, equivalent to not signed in.\n        if (!snapshot.exists || !data) {\n          if (this.userDocumentSnapshotListener) {\n            this.userDocumentSnapshotListener();\n          }\n\n          this.resetState();\n\n          return;\n        }\n\n        authentication.isAdmin().then((value) => {\n          this.setTheme(data.theme, () => {\n            this.setState({\n              ready: true,\n              user: user,\n              userData: data,\n              isAdmin: value\n            });\n          });\n        }).catch((reason) => {\n          this.resetState(() => {\n            const code = reason.code;\n            const message = reason.message;\n\n            switch (code) {\n              default:\n                this.openSnackbar(message);\n                return;\n            }\n          });\n        });\n      }, (error) => {\n        this.resetState(() => {\n          const code = error.code;\n          const message = error.message;\n\n          switch (code) {\n            default:\n              this.openSnackbar(message);\n              return;\n          }\n        });\n      });\n    }, (error) => {\n      this.resetState(() => {\n        const code = error.code;\n        const message = error.message;\n\n        switch (code) {\n          default:\n            this.openSnackbar(message);\n            return;\n        }\n      });\n    });\n  }\n\n  componentWillUnmount() {\n    if (this.onAuthStateChangedObserver) {\n      this.onAuthStateChangedObserver();\n    }\n\n    if (this.userDocumentSnapshotListener) {\n      this.userDocumentSnapshotListener();\n    }\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'typeface-roboto';\nimport './index.css';\nimport * as Sentry from '@sentry/browser';\nimport App from './components/App';\nimport * as serviceWorker from './serviceWorker';\n\nSentry.init({\n  dsn: process.env.REACT_APP_SENTRY_DSN,\n  release: `${process.env.REACT_APP_NAME}@${process.env.REACT_APP_VERSION}`\n});\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.register();\n"],"sourceRoot":""}